var COMPILED=true,goog=goog||{};goog.global=this;goog.isDef=function(b){return b!==void 0};goog.exportPath_=function(b,e,d){b=b.split(".");d=d||goog.global;!(b[0]in d)&&d.execScript&&d.execScript("var "+b[0]);for(var h;b.length&&(h=b.shift());)!b.length&&goog.isDef(e)?d[h]=e:d=d[h]?d[h]:d[h]={}};
goog.define=function(b,e){var d=e;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,b)?d=goog.global.CLOSURE_UNCOMPILED_DEFINES[b]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,b)&&(d=goog.global.CLOSURE_DEFINES[b]));goog.exportPath_(b,d)};goog.DEBUG=true;goog.define("goog.LOCALE","en");goog.define("goog.TRUSTED_SITE",true);goog.define("goog.STRICT_MODE_COMPATIBLE",false);
goog.provide=function(b){if(!COMPILED){if(goog.isProvided_(b))throw Error('Namespace "'+b+'" already declared.');delete goog.implicitNamespaces_[b];for(var e=b;e=e.substring(0,e.lastIndexOf("."));){if(goog.getObjectByName(e))break;goog.implicitNamespaces_[e]=true}}goog.exportPath_(b)};goog.setTestOnly=function(b){if(COMPILED&&!goog.DEBUG)throw b=b||"",Error("Importing test-only code into non-debug environment"+b?": "+b:".");};goog.forwardDeclare=function(){};
if(!COMPILED)goog.isProvided_=function(b){return!goog.implicitNamespaces_[b]&&goog.isDefAndNotNull(goog.getObjectByName(b))},goog.implicitNamespaces_={};goog.getObjectByName=function(b,e){for(var d=b.split("."),h=e||goog.global,i;i=d.shift();)if(goog.isDefAndNotNull(h[i]))h=h[i];else return null;return h};goog.globalize=function(b,e){var d=e||goog.global,h;for(h in b)d[h]=b[h]};
goog.addDependency=function(b,e,d){if(goog.DEPENDENCIES_ENABLED){for(var h,b=b.replace(/\\/g,"/"),i=goog.dependencies_,j=0;h=e[j];j++)i.nameToPath[h]=b,b in i.pathToNames||(i.pathToNames[b]={}),i.pathToNames[b][h]=true;for(h=0;e=d[h];h++)b in i.requires||(i.requires[b]={}),i.requires[b][e]=true}};goog.define("goog.ENABLE_DEBUG_LOADER",true);
goog.require=function(b){if(!COMPILED&&!goog.isProvided_(b)){if(goog.ENABLE_DEBUG_LOADER){var e=goog.getPathFromDeps_(b);if(e){goog.included_[e]=true;goog.writeScripts_();return}}b="goog.require could not find: "+b;goog.global.console&&goog.global.console.error(b);throw Error(b);}};goog.basePath="";goog.nullFunction=function(){};goog.identityFunction=function(b){return b};goog.abstractMethod=function(){throw Error("unimplemented abstract method");};
goog.addSingletonGetter=function(b){b.getInstance=function(){if(b.instance_)return b.instance_;goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=b);return b.instance_=new b}};goog.instantiatedSingletons_=[];goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;
if(goog.DEPENDENCIES_ENABLED)goog.included_={},goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var b=goog.global.document;return typeof b!="undefined"&&"write"in b},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var b=goog.global.document.getElementsByTagName("script"),e=b.length-1;e>=0;--e){var d=b[e].src,h=d.lastIndexOf("?"),h=h==-1?d.length:
h;if(d.substr(h-7,7)=="base.js"){goog.basePath=d.substr(0,h-7);break}}},goog.importScript_=function(b){var e=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;!goog.dependencies_.written[b]&&e(b)&&(goog.dependencies_.written[b]=true)},goog.writeScriptTag_=function(b){if(goog.inHtmlDocument_()){var e=goog.global.document;if(e.readyState=="complete")if(/\bdeps.js$/.test(b))return false;else throw Error('Cannot write "'+b+'" after document load');e.write('<script type="text/javascript" src="'+
b+'"><\/script>');return true}else return false},goog.writeScripts_=function(){function b(j){if(!(j in h.written)){if(!(j in h.visited)&&(h.visited[j]=true,j in h.requires))for(var i in h.requires[j])if(!goog.isProvided_(i))if(i in h.nameToPath)b(h.nameToPath[i]);else throw Error("Undefined nameToPath for "+i);j in d||(d[j]=true,e.push(j))}}var e=[],d={},h=goog.dependencies_,i;for(i in goog.included_)h.written[i]||b(i);for(i=0;i<e.length;i++)if(e[i])goog.importScript_(goog.basePath+e[i]);else throw Error("Undefined script input");
},goog.getPathFromDeps_=function(b){return b in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[b]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js");
goog.typeOf=function(b){var e=typeof b;if(e=="object")if(b){if(b instanceof Array)return"array";else if(b instanceof Object)return e;var d=Object.prototype.toString.call(b);if(d=="[object Window]")return"object";if(d=="[object Array]"||typeof b.length=="number"&&typeof b.splice!="undefined"&&typeof b.propertyIsEnumerable!="undefined"&&!b.propertyIsEnumerable("splice"))return"array";if(d=="[object Function]"||typeof b.call!="undefined"&&typeof b.propertyIsEnumerable!="undefined"&&!b.propertyIsEnumerable("call"))return"function"}else return"null";
else if(e=="function"&&typeof b.call=="undefined")return"object";return e};goog.isNull=function(b){return b===null};goog.isDefAndNotNull=function(b){return b!=null};goog.isArray=function(b){return goog.typeOf(b)=="array"};goog.isArrayLike=function(b){var e=goog.typeOf(b);return e=="array"||e=="object"&&typeof b.length=="number"};goog.isDateLike=function(b){return goog.isObject(b)&&typeof b.getFullYear=="function"};goog.isString=function(b){return typeof b=="string"};
goog.isBoolean=function(b){return typeof b=="boolean"};goog.isNumber=function(b){return typeof b=="number"};goog.isFunction=function(b){return goog.typeOf(b)=="function"};goog.isObject=function(b){var e=typeof b;return e=="object"&&b!=null||e=="function"};goog.getUid=function(b){return b[goog.UID_PROPERTY_]||(b[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(b){return!!b[goog.UID_PROPERTY_]};goog.removeUid=function(b){"removeAttribute"in b&&b.removeAttribute(goog.UID_PROPERTY_);try{delete b[goog.UID_PROPERTY_]}catch(e){}};
goog.UID_PROPERTY_="closure_uid_"+(Math.random()*1E9>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(b){var e=goog.typeOf(b);if(e=="object"||e=="array"){if(b.clone)return b.clone();var e=e=="array"?[]:{},d;for(d in b)e[d]=goog.cloneObject(b[d]);return e}return b};goog.bindNative_=function(b,e,d){return b.call.apply(b.bind,arguments)};
goog.bindJs_=function(b,e,d){if(!b)throw Error();if(arguments.length>2){var h=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(d,h);return b.apply(e,d)}}else return function(){return b.apply(e,arguments)}};goog.bind=function(b,e,d){goog.bind=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bindNative_:goog.bindJs_;return goog.bind.apply(null,arguments)};
goog.partial=function(b,e){var d=Array.prototype.slice.call(arguments,1);return function(){var e=d.slice();e.push.apply(e,arguments);return b.apply(this,e)}};goog.mixin=function(b,e){for(var d in e)b[d]=e[d]};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};
goog.globalEval=function(b){if(goog.global.execScript)goog.global.execScript(b,"JavaScript");else if(goog.global.eval){if(goog.evalWorksForGlobals_==null)goog.global.eval("var _et_ = 1;"),typeof goog.global._et_!="undefined"?(delete goog.global._et_,goog.evalWorksForGlobals_=true):goog.evalWorksForGlobals_=false;if(goog.evalWorksForGlobals_)goog.global.eval(b);else{var e=goog.global.document,d=e.createElement("script");d.type="text/javascript";d.defer=false;d.appendChild(e.createTextNode(b));e.body.appendChild(d);
e.body.removeChild(d)}}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;goog.getCssName=function(b,e){var d=function(b){return goog.cssNameMapping_[b]||b},h;h=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?d:function(b){for(var b=b.split("-"),e=[],h=0;h<b.length;h++)e.push(d(b[h]));return e.join("-")}:function(b){return b};return e?b+"-"+h(e):h(b)};goog.setCssNameMapping=function(b,e){goog.cssNameMapping_=b;goog.cssNameMappingStyle_=e};
if(!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING)goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING;goog.getMsg=function(b,e){var d=e||{},h;for(h in d)var i=(""+d[h]).replace(/\$/g,"$$$$"),b=b.replace(RegExp("\\{\\$"+h+"\\}","gi"),i);return b};goog.getMsgWithFallback=function(b){return b};goog.exportSymbol=function(b,e,d){goog.exportPath_(b,e,d)};goog.exportProperty=function(b,e,d){b[e]=d};
goog.inherits=function(b,e){function d(){}d.prototype=e.prototype;b.superClass_=e.prototype;b.prototype=new d;b.prototype.constructor=b;b.base=function(b,d,j){var l=Array.prototype.slice.call(arguments,2);return e.prototype[d].apply(b,l)}};
goog.base=function(b,e,d){var h=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!h)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(h.superClass_)return h.superClass_.constructor.apply(b,Array.prototype.slice.call(arguments,1));for(var i=Array.prototype.slice.call(arguments,2),j=false,l=b.constructor;l;l=l.superClass_&&l.superClass_.constructor)if(l.prototype[e]===h)j=true;
else if(j)return l.prototype[e].apply(b,i);if(b[e]===h)return b.constructor.prototype[e].apply(b,i);else throw Error("goog.base called from a method of one name to a method of a different name");};goog.scope=function(b){b.call(goog.global)};var glslunit={glsl:{}};
glslunit.glsl.parser=function(){var b={parse:function(b,d){function h(c){var a=c.charCodeAt(0),b;a<=255?(c="x",b=2):(c="u",b=4);var c="\\"+c,f=a.toString(16).toUpperCase(),a=f;b-=f.length;for(f=0;f<b;f++)a="0"+a;return c+a}function i(c){return'"'+c.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,h)+'"'}function j(b){c<L||(c>L&&(L=c,sa=[]),sa.push(b))}
function l(){var d="newLine@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g;g=c;/^[\n]/.test(b.charAt(c))?(a=b.charAt(c),c++):(a=null,k===0&&j("[\\n]"));a!==null&&(a="\n");a===null&&(c=g);m[d]={nextPos:c,result:a};return a}function q(){var d="EOF@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g;g=c;k++;b.length>c?(a=b.charAt(c),c++):(a=null,k===0&&j("any character"));k--;a===null?a="":(a=null,c=g);m[d]={nextPos:c,result:a};return a}function o(){var d="_@"+c,a=m[d];if(a)return c=a.nextPos,a.result;
var g;k++;g=l();g===null&&(/^[\\\n]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,k===0&&j("[\\\\\\n]")),g===null&&(/^[\r\t\f\x0B ]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,k===0&&j("[\\r\\t\\f\\x0B ]")),g===null&&(g=y())));if(g!==null)for(a=[];g!==null;)a.push(g),g=l(),g===null&&(/^[\\\n]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,k===0&&j("[\\\\\\n]")),g===null&&(/^[\r\t\f\x0B ]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,k===0&&j("[\\r\\t\\f\\x0B ]")),g===null&&(g=y())));else a=null;
k--;k===0&&a===null&&j("whitespace");m[d]={nextPos:c,result:a};return a}function p(){var d="noNewlineComment@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n,s,h;s=c;b.substr(c,2)==="/*"?(a="/*",c+=2):(a=null,k===0&&j('"/*"'));if(a!==null){g=[];n=h=c;k++;b.substr(c,2)==="*/"?(f="*/",c+=2):(f=null,k===0&&j('"*/"'));k--;f===null?f="":(f=null,c=n);f!==null?(b.length>c?(n=b.charAt(c),c++):(n=null,k===0&&j("any character")),n!==null?f=[f,n]:(f=null,c=h)):(f=null,c=h);for(;f!==null;)g.push(f),n=h=
c,k++,b.substr(c,2)==="*/"?(f="*/",c+=2):(f=null,k===0&&j('"*/"')),k--,f===null?f="":(f=null,c=n),f!==null?(b.length>c?(n=b.charAt(c),c++):(n=null,k===0&&j("any character")),n!==null?f=[f,n]:(f=null,c=h)):(f=null,c=h);g!==null?(b.substr(c,2)==="*/"?(f="*/",c+=2):(f=null,k===0&&j('"*/"')),f!==null?a=[a,g,f]:(a=null,c=s)):(a=null,c=s)}else a=null,c=s;if(a===null)if(s=c,b.substr(c,2)==="//"?(a="//",c+=2):(a=null,k===0&&j('"//"')),a!==null){g=[];/^[^\n]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,
k===0&&j("[^\\n]"));for(;f!==null;)g.push(f),/^[^\n]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,k===0&&j("[^\\n]"));g!==null?a=[a,g]:(a=null,c=s)}else a=null,c=s;m[d]={nextPos:c,result:a};return a}function x(){var d="noNewlineWhitespace@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g;/^[\r\t\f\x0B ]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,k===0&&j("[\\r\\t\\f\\x0B ]"));g===null&&(g=p());if(g!==null)for(a=[];g!==null;)a.push(g),/^[\r\t\f\x0B ]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=
null,k===0&&j("[\\r\\t\\f\\x0B ]")),g===null&&(g=p());else a=null;m[d]={nextPos:c,result:a};return a}function y(){var d="comment@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n,s,h;k++;s=c;b.substr(c,2)==="/*"?(a="/*",c+=2):(a=null,k===0&&j('"/*"'));if(a!==null){g=[];n=h=c;k++;b.substr(c,2)==="*/"?(f="*/",c+=2):(f=null,k===0&&j('"*/"'));k--;f===null?f="":(f=null,c=n);f!==null?(b.length>c?(n=b.charAt(c),c++):(n=null,k===0&&j("any character")),n!==null?f=[f,n]:(f=null,c=h)):(f=null,c=h);for(;f!==
null;)g.push(f),n=h=c,k++,b.substr(c,2)==="*/"?(f="*/",c+=2):(f=null,k===0&&j('"*/"')),k--,f===null?f="":(f=null,c=n),f!==null?(b.length>c?(n=b.charAt(c),c++):(n=null,k===0&&j("any character")),n!==null?f=[f,n]:(f=null,c=h)):(f=null,c=h);g!==null?(b.substr(c,2)==="*/"?(f="*/",c+=2):(f=null,k===0&&j('"*/"')),f!==null?a=[a,g,f]:(a=null,c=s)):(a=null,c=s)}else a=null,c=s;if(a===null)if(s=c,b.substr(c,2)==="//"?(a="//",c+=2):(a=null,k===0&&j('"//"')),a!==null){g=[];/^[^\n]/.test(b.charAt(c))?(f=b.charAt(c),
c++):(f=null,k===0&&j("[^\\n]"));for(;f!==null;)g.push(f),/^[^\n]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,k===0&&j("[^\\n]"));g!==null?(f=l(),f===null&&(f=q()),f!==null?a=[a,g,f]:(a=null,c=s)):(a=null,c=s)}else a=null,c=s;k--;k===0&&a===null&&j("comment");m[d]={nextPos:c,result:a};return a}function r(){var d="semicolon@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n;n=c;a=o();a=a!==null?a:"";a!==null?(b.charCodeAt(c)===59?(g=";",c+=1):(g=null,k===0&&j('";"')),g!==null?(f=o(),f=f!==null?
f:"",f!==null?a=[a,g,f]:(a=null,c=n)):(a=null,c=n)):(a=null,c=n);m[d]={nextPos:c,result:a};return a}function w(){var d="comma@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n;n=c;a=o();a=a!==null?a:"";a!==null?(b.charCodeAt(c)===44?(g=",",c+=1):(g=null,k===0&&j('","')),g!==null?(f=o(),f=f!==null?f:"",f!==null?a=[a,g,f]:(a=null,c=n)):(a=null,c=n)):(a=null,c=n);m[d]={nextPos:c,result:a};return a}function D(){var d="left_bracket@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n;n=c;a=o();a=
a!==null?a:"";a!==null?(b.charCodeAt(c)===91?(g="[",c+=1):(g=null,k===0&&j('"["')),g!==null?(f=o(),f=f!==null?f:"",f!==null?a=[a,g,f]:(a=null,c=n)):(a=null,c=n)):(a=null,c=n);m[d]={nextPos:c,result:a};return a}function M(){var d="right_bracket@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n;n=c;a=o();a=a!==null?a:"";a!==null?(b.charCodeAt(c)===93?(g="]",c+=1):(g=null,k===0&&j('"]"')),g!==null?(f=o(),f=f!==null?f:"",f!==null?a=[a,g,f]:(a=null,c=n)):(a=null,c=n)):(a=null,c=n);m[d]={nextPos:c,
result:a};return a}function ab(){var d="equals@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n;n=c;a=o();a=a!==null?a:"";a!==null?(b.charCodeAt(c)===61?(g="=",c+=1):(g=null,k===0&&j('"="')),g!==null?(f=o(),f=f!==null?f:"",f!==null?a=[a,g,f]:(a=null,c=n)):(a=null,c=n)):(a=null,c=n);m[d]={nextPos:c,result:a};return a}function B(){var d="left_paren@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n;n=c;a=o();a=a!==null?a:"";a!==null?(b.charCodeAt(c)===40?(g="(",c+=1):(g=null,k===0&&j('"("')),
g!==null?(f=o(),f=f!==null?f:"",f!==null?a=[a,g,f]:(a=null,c=n)):(a=null,c=n)):(a=null,c=n);m[d]={nextPos:c,result:a};return a}function F(){var d="right_paren@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n;n=c;a=o();a=a!==null?a:"";a!==null?(b.charCodeAt(c)===41?(g=")",c+=1):(g=null,k===0&&j('")"')),g!==null?(f=o(),f=f!==null?f:"",f!==null?a=[a,g,f]:(a=null,c=n)):(a=null,c=n)):(a=null,c=n);m[d]={nextPos:c,result:a};return a}function ta(){var d="left_brace@"+c,a=m[d];if(a)return c=a.nextPos,
a.result;var g,f,n;n=c;a=o();a=a!==null?a:"";a!==null?(b.charCodeAt(c)===123?(g="{",c+=1):(g=null,k===0&&j('"{"')),g!==null?(f=o(),f=f!==null?f:"",f!==null?a=[a,g,f]:(a=null,c=n)):(a=null,c=n)):(a=null,c=n);m[d]={nextPos:c,result:a};return a}function ua(){var d="right_brace@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n;n=c;a=o();a=a!==null?a:"";a!==null?(b.charCodeAt(c)===125?(g="}",c+=1):(g=null,k===0&&j('"}"')),g!==null?(f=o(),f=f!==null?f:"",f!==null?a=[a,g,f]:(a=null,c=n)):(a=null,c=n)):
(a=null,c=n);m[d]={nextPos:c,result:a};return a}function G(){var b="external_statement_list@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,a=c;g=[];for(f=va();f!==null;)g.push(f),f=va();if(g!==null){f=new u({type:"root",statements:[]});for(var e=0;e<g.length;e++)if(g[e])f.statements=f.statements.concat(g[e]);g=f}g===null&&(c=a);m[b]={nextPos:c,result:g};return g}function va(){var b="external_statement@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g;g=c;a=bb();a===null&&(a=cb());a===null&&(c=
g);a===null&&(g=c,a=o(),a!==null&&(a=""),a===null&&(c=g));m[b]={nextPos:c,result:a};return a}function cb(){var b="external_declaration@"+c,a=m[b];if(a)return c=a.nextPos,a.result;a=db();a===null&&(a=eb(),a===null&&(a=wa(),a===null&&(a=xa(),a===null&&(a=fb(),a===null&&(a=Y())))));m[b]={nextPos:c,result:a};return a}function xa(){var d="preprocessor_operator@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n,s,h,i,t;i=h=c;b.charCodeAt(c)===35?(a="#",c+=1):(a=null,k===0&&j('"#"'));if(a!==null)if(b.substr(c,
5)==="undef"?(g="undef",c+=5):(g=null,k===0&&j('"undef"')),g===null&&(b.substr(c,6)==="pragma"?(g="pragma",c+=6):(g=null,k===0&&j('"pragma"')),g===null&&(b.substr(c,7)==="version"?(g="version",c+=7):(g=null,k===0&&j('"version"')),g===null&&(b.substr(c,5)==="error"?(g="error",c+=5):(g=null,k===0&&j('"error"')),g===null&&(b.substr(c,9)==="extension"?(g="extension",c+=9):(g=null,k===0&&j('"extension"')),g===null&&(b.substr(c,4)==="line"?(g="line",c+=4):(g=null,k===0&&j('"line"'))))))),g!==null)if(f=
o(),f!==null){t=c;n=[];/^[^\n]/.test(b.charAt(c))?(s=b.charAt(c),c++):(s=null,k===0&&j("[^\\n]"));for(;s!==null;)n.push(s),/^[^\n]/.test(b.charAt(c))?(s=b.charAt(c),c++):(s=null,k===0&&j("[^\\n]"));n!==null&&(n=n.join(""));n===null&&(c=t);n!==null?(s=l(),s===null&&(s=q()),s!==null?a=[a,g,f,n,s]:(a=null,c=i)):(a=null,c=i)}else a=null,c=i;else a=null,c=i;else a=null,c=i;a!==null&&(a=new u({type:"preprocessor",directive:"#"+a[1],value:a[3]}));a===null&&(c=h);m[d]={nextPos:c,result:a};return a}function I(){var d=
"macro_identifier@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n,s;s=n=c;/^[A-Za-z_]/.test(b.charAt(c))?(a=b.charAt(c),c++):(a=null,k===0&&j("[A-Za-z_]"));if(a!==null){g=[];/^[A-Za-z_0-9]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,k===0&&j("[A-Za-z_0-9]"));for(;f!==null;)g.push(f),/^[A-Za-z_0-9]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,k===0&&j("[A-Za-z_0-9]"));g!==null?a=[a,g]:(a=null,c=s)}else a=null,c=s;a!==null&&(a=new u({type:"identifier",name:a[0]+a[1].join("")}));a===null&&
(c=n);m[d]={nextPos:c,result:a};return a}function gb(){var d="preprocessor_parameter_list@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n,s,h,i,t;i=h=c;b.charCodeAt(c)===40?(a="(",c+=1):(a=null,k===0&&j('"("'));if(a!==null)if(g=I(),g=g!==null?g:"",g!==null){f=[];t=c;n=w();n!==null?(s=I(),s!==null?n=[n,s]:(n=null,c=t)):(n=null,c=t);for(;n!==null;)f.push(n),t=c,n=w(),n!==null?(s=I(),s!==null?n=[n,s]:(n=null,c=t)):(n=null,c=t);f!==null?(n=F(),n!==null?a=[a,g,f,n]:(a=null,c=i)):(a=null,c=i)}else a=
null,c=i;else a=null,c=i;a!==null&&(a=function(a,c){return!a?[]:[a].concat(c.map(function(a){return a[1]}))}(a[1],a[2]));a===null&&(c=h);m[d]={nextPos:c,result:a};return a}function ya(){var d="macro_paren_parameter@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n,s,h,i,t,v;i=h=c;a=B();if(a!==null){v=t=c;g=[];/^[^()]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,k===0&&j("[^()]"));for(;f!==null;)g.push(f),/^[^()]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,k===0&&j("[^()]"));if(g!==null)if(f=
ya(),f=f!==null?f:"",f!==null){n=[];/^[^()]/.test(b.charAt(c))?(s=b.charAt(c),c++):(s=null,k===0&&j("[^()]"));for(;s!==null;)n.push(s),/^[^()]/.test(b.charAt(c))?(s=b.charAt(c),c++):(s=null,k===0&&j("[^()]"));n!==null?g=[g,f,n]:(g=null,c=v)}else g=null,c=v;else g=null,c=v;g!==null&&(g=g[0].join("")+g[1]+g[2].join(""));g===null&&(c=t);g!==null?(f=F(),f!==null?a=[a,g,f]:(a=null,c=i)):(a=null,c=i)}else a=null,c=i;a!==null&&(a="("+a[1]+")");a===null&&(c=h);m[d]={nextPos:c,result:a};return a}function Z(){var d=
"macro_call_parameter@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,a=ya();if(a===null){f=c;a=[];/^[^,)]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,k===0&&j("[^,)]"));for(;g!==null;)a.push(g),/^[^,)]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,k===0&&j("[^,)]"));a!==null&&(a=a.join(""));a===null&&(c=f)}m[d]={nextPos:c,result:a};return a}function Y(){var d="macro_call@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n,s,h,i;i=a=c;g=I();g!==null?(f=o(),f=f!==null?f:"",f!==null?(n=B(),
n!==null?(s=za(),s=s!==null?s:"",s!==null?(b.charCodeAt(c)===41?(h=")",c+=1):(h=null,k===0&&j('")"')),h!==null?g=[g,f,n,s,h]:(g=null,c=i)):(g=null,c=i)):(g=null,c=i)):(g=null,c=i)):(g=null,c=i);if(g!==null&&(f=g[3],g=new u({type:"macro_call",macro_name:g[0],parameters:f}),!f))g.parameters=[];g===null&&(c=a);m[d]={nextPos:c,result:g};return g}function wa(){var d="preprocessor_define@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n,s,h,i,t,v,r,p,x;p=r=c;b.charCodeAt(c)===35?(a="#",c+=1):(a=null,
k===0&&j('"#"'));if(a!==null)if(g=o(),g=g!==null?g:"",g!==null)if(b.substr(c,6)==="define"?(f="define",c+=6):(f=null,k===0&&j('"define"')),f!==null)if(n=o(),n!==null)if(s=I(),s!==null)if(h=gb(),h=h!==null?h:"",h!==null){i=[];/^[ \t]/.test(b.charAt(c))?(t=b.charAt(c),c++):(t=null,k===0&&j("[ \\t]"));for(;t!==null;)i.push(t),/^[ \t]/.test(b.charAt(c))?(t=b.charAt(c),c++):(t=null,k===0&&j("[ \\t]"));if(i!==null){x=c;t=[];/^[^\n]/.test(b.charAt(c))?(v=b.charAt(c),c++):(v=null,k===0&&j("[^\\n]"));for(;v!==
null;)t.push(v),/^[^\n]/.test(b.charAt(c))?(v=b.charAt(c),c++):(v=null,k===0&&j("[^\\n]"));t!==null&&(t=t.join(""));t===null&&(c=x);t!==null?(v=l(),v===null&&(v=q()),v!==null?a=[a,g,f,n,s,h,i,t,v]:(a=null,c=p)):(a=null,c=p)}else a=null,c=p}else a=null,c=p;else a=null,c=p;else a=null,c=p;else a=null,c=p;else a=null,c=p;else a=null,c=p;a!==null&&(a=new u({type:"preprocessor",directive:"#define",identifier:a[4].name,token_string:a[7],parameters:a[5]||null}));a===null&&(c=r);m[d]={nextPos:c,result:a};
return a}function Aa(){var d="preprocessor_if@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n,s,h,i,t,v;t=i=c;b.charCodeAt(c)===35?(a="#",c+=1):(a=null,k===0&&j('"#"'));if(a!==null)if(g=o(),g=g!==null?g:"",g!==null)if(b.substr(c,5)==="ifdef"?(f="ifdef",c+=5):(f=null,k===0&&j('"ifdef"')),f===null&&(b.substr(c,6)==="ifndef"?(f="ifndef",c+=6):(f=null,k===0&&j('"ifndef"')),f===null&&(b.substr(c,2)==="if"?(f="if",c+=2):(f=null,k===0&&j('"if"')))),f!==null)if(n=o(),n!==null){v=c;s=[];/^[^\n]/.test(b.charAt(c))?
(h=b.charAt(c),c++):(h=null,k===0&&j("[^\\n]"));for(;h!==null;)s.push(h),/^[^\n]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,k===0&&j("[^\\n]"));s!==null&&(s=s.join(""));s===null&&(c=v);s!==null?(h=l(),h===null&&(h=q()),h!==null?a=[a,g,f,n,s,h]:(a=null,c=t)):(a=null,c=t)}else a=null,c=t;else a=null,c=t;else a=null,c=t;else a=null,c=t;a!==null&&(a=new u({type:"preprocessor",directive:"#"+a[2],value:a[4]}));a===null&&(c=i);m[d]={nextPos:c,result:a};return a}function N(){var d="preprocessor_else_if@"+
c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n,s,h,i,t,v;t=i=c;b.charCodeAt(c)===35?(a="#",c+=1):(a=null,k===0&&j('"#"'));if(a!==null)if(g=o(),g=g!==null?g:"",g!==null)if(b.substr(c,4)==="elif"?(f="elif",c+=4):(f=null,k===0&&j('"elif"')),f!==null)if(n=o(),n!==null){v=c;s=[];/^[^\n]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,k===0&&j("[^\\n]"));for(;h!==null;)s.push(h),/^[^\n]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,k===0&&j("[^\\n]"));s!==null&&(s=s.join(""));s===null&&(c=v);s!==null?
(h=l(),h===null&&(h=q()),h!==null?a=[a,g,f,n,s,h]:(a=null,c=t)):(a=null,c=t)}else a=null,c=t;else a=null,c=t;else a=null,c=t;else a=null,c=t;a!==null&&(a=new u({type:"preprocessor",directive:"#elif",value:a[4]}));a===null&&(c=i);m[d]={nextPos:c,result:a};return a}function Ba(){var d="preprocessor_else@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n,s,h,i;i=h=c;b.charCodeAt(c)===35?(a="#",c+=1):(a=null,k===0&&j('"#"'));a!==null?(g=o(),g=g!==null?g:"",g!==null?(b.substr(c,4)==="else"?(f="else",
c+=4):(f=null,k===0&&j('"else"')),f!==null?(n=x(),n=n!==null?n:"",n!==null?(s=l(),s!==null?a=[a,g,f,n,s]:(a=null,c=i)):(a=null,c=i)):(a=null,c=i)):(a=null,c=i)):(a=null,c=i);a!==null&&(a=new u({type:"preprocessor",directive:"#else"}));a===null&&(c=h);m[d]={nextPos:c,result:a};return a}function Ca(){var d="preprocessor_end@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n,s,h,i;i=c;b.charCodeAt(c)===35?(a="#",c+=1):(a=null,k===0&&j('"#"'));a!==null?(g=o(),g=g!==null?g:"",g!==null?(b.substr(c,5)===
"endif"?(f="endif",c+=5):(f=null,k===0&&j('"endif"')),f!==null?(n=x(),n=n!==null?n:"",n!==null?(s=l(),s===null&&(s=q()),s!==null?(h=o(),h=h!==null?h:"",h!==null?a=[a,g,f,n,s,h]:(a=null,c=i)):(a=null,c=i)):(a=null,c=i)):(a=null,c=i)):(a=null,c=i)):(a=null,c=i);m[d]={nextPos:c,result:a};return a}function bb(){var b="preprocessor_external_branch@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e,d,h,j;j=h=d=c;a=Aa();a!==null?(g=G(),g!==null?a=[a,g]:(a=null,c=j)):(a=null,c=j);if(a!==null){g=[];j=c;
f=N();f!==null?(e=G(),e!==null?f=[f,e]:(f=null,c=j)):(f=null,c=j);for(;f!==null;)g.push(f),j=c,f=N(),f!==null?(e=G(),e!==null?f=[f,e]:(f=null,c=j)):(f=null,c=j);g!==null?(j=c,f=Ba(),f!==null?(e=G(),e!==null?f=[f,e]:(f=null,c=j)):(f=null,c=j),f=f!==null?f:"",f!==null?(e=Ca(),e!==null?a=[a,g,f,e]:(a=null,c=h)):(a=null,c=h)):(a=null,c=h)}else a=null,c=h;a!==null&&(a=hb(a[0],a[1],a[2]));a===null&&(c=d);m[b]={nextPos:c,result:a};return a}function Da(){var b="preprocessor_statement_branch@"+c,a=m[b];if(a)return c=
a.nextPos,a.result;var g,f,e,d,h,j;j=h=d=c;a=Aa();a!==null?(g=J(),g!==null?a=[a,g]:(a=null,c=j)):(a=null,c=j);if(a!==null){g=[];j=c;f=N();f!==null?(e=J(),e!==null?f=[f,e]:(f=null,c=j)):(f=null,c=j);for(;f!==null;)g.push(f),j=c,f=N(),f!==null?(e=J(),e!==null?f=[f,e]:(f=null,c=j)):(f=null,c=j);g!==null?(j=c,f=Ba(),f!==null?(e=J(),e!==null?f=[f,e]:(f=null,c=j)):(f=null,c=j),f=f!==null?f:"",f!==null?(e=Ca(),e!==null?a=[a,g,f,e]:(a=null,c=h)):(a=null,c=h)):(a=null,c=h)}else a=null,c=h;a!==null&&(a=hb(a[0],
a[1],a[2]));a===null&&(c=d);m[b]={nextPos:c,result:a};return a}function db(){var n;var b="function_definition@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e;e=f=c;a=Ea();a!==null?(g=$(),g!==null?a=[a,g]:(a=null,c=e)):(a=null,c=e);a!==null&&(g=a[0],n=z=new u({type:"function_declaration",name:g.name,returnType:g.returnType,parameters:g.parameters,body:a[1]}),a=n);a===null&&(c=f);m[b]={nextPos:c,result:a};return a}function $(){var b="compound_statement@"+c,a=m[b];if(a)return c=a.nextPos,a.result;
var g,f,e,d;d=a=c;g=ta();g!==null?(f=J(),f=f!==null?f:"",f!==null?(e=ua(),e!==null?g=[g,f,e]:(g=null,c=d)):(g=null,c=d)):(g=null,c=d);if(g!==null){g=g[1];z=new u({type:"scope",statements:[]});if(g&&g.statements)z.statements=g.statements;g=z}g===null&&(c=a);m[b]={nextPos:c,result:g};return g}function J(){var b="statement_list@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e,d;d=e=c;a=o();a=a!==null?a:"";if(a!==null){g=[];for(f=O();f!==null;)g.push(f),f=O();g!==null?(f=o(),f=f!==null?f:"",f!==
null?a=[a,g,f]:(a=null,c=d)):(a=null,c=d)}else a=null,c=d;a!==null&&(a={statements:a[1]});a===null&&(c=e);m[b]={nextPos:c,result:a};return a}function O(){var b="statement_no_new_scope@"+c,a=m[b];if(a)return c=a.nextPos,a.result;a=$();a===null&&(a=Fa(),a===null&&(a=Da()));m[b]={nextPos:c,result:a};return a}function aa(){var b="statement_with_scope@"+c,a=m[b];if(a)return c=a.nextPos,a.result;a=$();a===null&&(a=Fa(),a===null&&(a=Da()));m[b]={nextPos:c,result:a};return a}function Fa(){var b="simple_statement@"+
c,a=m[b];if(a)return c=a.nextPos,a.result;var g;g=c;a=ba();a===null&&(a=Ga(),a===null&&(a=ib(),a===null&&(a=jb(),a===null&&(a=kb(),a===null&&(a=wa(),a===null&&(a=xa(),a===null&&(a=Y())))))));a===null&&(c=g);m[b]={nextPos:c,result:a};return a}function ib(){var d="selection_statement@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n,h,i,H,t,v,l,p;l=v=c;b.substr(c,2)==="if"?(a="if",c+=2):(a=null,k===0&&j('"if"'));a!==null?(g=B(),g!==null?(f=C(),f!==null?(n=F(),n!==null?(h=aa(),h!==null?(p=c,b.substr(c,
4)==="else"?(i="else",c+=4):(i=null,k===0&&j('"else"')),i!==null?(H=o(),H=H!==null?H:"",H!==null?(t=aa(),t!==null?i=[i,H,t]:(i=null,c=p)):(i=null,c=p)):(i=null,c=p),i=i!==null?i:"",i!==null?a=[a,g,f,n,h,i]:(a=null,c=l)):(a=null,c=l)):(a=null,c=l)):(a=null,c=l)):(a=null,c=l)):(a=null,c=l);if(a!==null){g=a[5];z=new u({type:"if_statement",condition:a[2],body:a[4]});if(g)z.elseBody=g[2];a=z}a===null&&(c=v);m[d]={nextPos:c,result:a};return a}function lb(){var d="for_loop@"+c,a=m[d];if(a)return c=a.nextPos,
a.result;var g,f,n,h,i,o,t,v,l;l=v=c;b.substr(c,3)==="for"?(a="for",c+=3):(a=null,k===0&&j('"for"'));a!==null?(g=B(),g!==null?(f=Ga(),f===null&&(f=ba()),f!==null?(n=Ha(),n=n!==null?n:"",n!==null?(h=r(),h!==null?(i=C(),i=i!==null?i:"",i!==null?(o=F(),o!==null?(t=O(),t!==null?a=[a,g,f,n,h,i,o,t]:(a=null,c=l)):(a=null,c=l)):(a=null,c=l)):(a=null,c=l)):(a=null,c=l)):(a=null,c=l)):(a=null,c=l)):(a=null,c=l);a!==null&&(a=new u({type:"for_statement",initializer:a[2],condition:a[3],increment:a[5],body:a[7]}));
a===null&&(c=v);m[d]={nextPos:c,result:a};return a}function Ia(){var d="while_statement@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n,h,i;i=h=c;b.substr(c,5)==="while"?(a="while",c+=5):(a=null,k===0&&j('"while"'));a!==null?(g=B(),g!==null?(f=Ha(),f!==null?(n=F(),n!==null?a=[a,g,f,n]:(a=null,c=i)):(a=null,c=i)):(a=null,c=i)):(a=null,c=i);a!==null&&(a={condition:a[2]});a===null&&(c=h);m[d]={nextPos:c,result:a};return a}function mb(){var b="while_loop@"+c,a=m[b];if(a)return c=a.nextPos,a.result;
var g,f,e;e=f=c;a=Ia();a!==null?(g=O(),g!==null?a=[a,g]:(a=null,c=e)):(a=null,c=e);a!==null&&(a=new u({type:"while_statement",condition:a[0].condition,body:a[1]}));a===null&&(c=f);m[b]={nextPos:c,result:a};return a}function nb(){var d="do_while@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n,h;h=n=c;b.substr(c,2)==="do"?(a="do",c+=2):(a=null,k===0&&j('"do"'));a!==null?(g=aa(),g!==null?(f=Ia(),f!==null?a=[a,g,f]:(a=null,c=h)):(a=null,c=h)):(a=null,c=h);a!==null&&(a=new u({type:"do_statement",
condition:a[2].condition,body:a[1]}));a===null&&(c=n);m[d]={nextPos:c,result:a};return a}function jb(){var b="iteration_statement@"+c,a=m[b];if(a)return c=a.nextPos,a.result;a=mb();a===null&&(a=nb(),a===null&&(a=lb()));m[b]={nextPos:c,result:a};return a}function kb(){var d="jump_statement@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n,h,i;i=h=c;b.substr(c,6)==="return"?(a="return",c+=6):(a=null,k===0&&j('"return"'));a!==null?(g=o(),g=g!==null?g:"",g!==null?(f=C(),f!==null?(n=r(),n!==null?a=
[a,g,f,n]:(a=null,c=i)):(a=null,c=i)):(a=null,c=i)):(a=null,c=i);a!==null&&(a=new u({type:"return",value:a[2]}));a===null&&(c=h);a===null&&(i=h=c,b.substr(c,8)==="continue"?(a="continue",c+=8):(a=null,k===0&&j('"continue"')),a!==null?(g=r(),g!==null?a=[a,g]:(a=null,c=i)):(a=null,c=i),a===null&&(i=c,b.substr(c,5)==="break"?(a="break",c+=5):(a=null,k===0&&j('"break"')),a!==null?(g=r(),g!==null?a=[a,g]:(a=null,c=i)):(a=null,c=i),a===null&&(i=c,b.substr(c,6)==="return"?(a="return",c+=6):(a=null,k===0&&
j('"return"')),a!==null?(g=r(),g!==null?a=[a,g]:(a=null,c=i)):(a=null,c=i),a===null&&(n=f=i=c,a=P=="fs"?"":null,a!==null?(b.substr(c,7)==="discard"?(g="discard",c+=7):(g=null,k===0&&j('"discard"')),g!==null?a=[a,g]:(a=null,c=n)):(a=null,c=n),a!==null&&(a="discard"),a===null&&(c=f),a!==null?(g=r(),g!==null?a=[a,g]:(a=null,c=i)):(a=null,c=i)))),a!==null&&(a=new u({type:a[0]})),a===null&&(c=h));m[d]={nextPos:c,result:a};return a}function Ga(){var b="expression_statement@"+c,a=m[b];if(a)return c=a.nextPos,
a.result;var g,f,e;e=f=c;a=C();a=a!==null?a:"";a!==null?(g=r(),g!==null?a=[a,g]:(a=null,c=e)):(a=null,c=e);a!==null&&(a=new u({type:"expression",expression:a[0]}));a===null&&(c=f);m[b]={nextPos:c,result:a};return a}function ba(){var d="declaration@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n,h,i,l,t,v,p;k++;v=t=c;a=Ea();a!==null?(g=r(),g!==null?a=[a,g]:(a=null,c=v)):(a=null,c=v);a!==null&&(a=a[0]);a===null&&(c=t);if(a===null&&(v=t=c,a=Q(),a!==null?(g=o(),g!==null?(f=Ja(),f!==null?(n=r(),
n!==null?a=[a,g,f,n]:(a=null,c=v)):(a=null,c=v)):(a=null,c=v)):(a=null,c=v),a!==null&&(a=new u({type:"declarator",typeAttribute:a[0],declarators:a[2]})),a===null&&(c=t),a===null)){v=t=c;a=P=="vs"?"":null;if(a!==null)if(b.substr(c,9)==="invariant"?(g="invariant",c+=9):(g=null,k===0&&j('"invariant"')),g!==null)if(f=o(),f!==null)if(n=A(),n!==null){h=[];p=c;i=w();i!==null?(l=A(),l!==null?i=[i,l]:(i=null,c=p)):(i=null,c=p);for(;i!==null;)h.push(i),p=c,i=w(),i!==null?(l=A(),l!==null?i=[i,l]:(i=null,c=p)):
(i=null,c=p);h!==null?(i=r(),i!==null?a=[a,g,f,n,h,i]:(a=null,c=v)):(a=null,c=v)}else a=null,c=v;else a=null,c=v;else a=null,c=v;else a=null,c=v;a!==null&&(a=function(a,c){var b=[a].concat(c.map(function(a){return a[1]}));return new u({type:"invariant",identifiers:b})}(a[3],a[4]));a===null&&(c=t);a===null&&(v=t=c,b.substr(c,9)==="precision"?(a="precision",c+=9):(a=null,k===0&&j('"precision"')),a!==null?(g=o(),g!==null?(f=ca(),f!==null?(n=o(),n!==null?(h=R(),h!==null?(i=r(),i!==null?a=[a,g,f,n,h,i]:
(a=null,c=v)):(a=null,c=v)):(a=null,c=v)):(a=null,c=v)):(a=null,c=v)):(a=null,c=v),a!==null&&(a=new u({type:"precision",precision:a[2],typeName:a[4]})),a===null&&(c=t))}k--;k===0&&a===null&&j("declaration");m[d]={nextPos:c,result:a};return a}function eb(){var b="global_declaration@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e,d,h,a=ba();a===null&&(h=d=c,a=ob(),a!==null?(g=o(),g!==null?(f=Ja(),f!==null?(e=r(),e!==null?a=[a,g,f,e]:(a=null,c=h)):(a=null,c=h)):(a=null,c=h)):(a=null,c=h),a!==null&&
(a=new u({type:"declarator",typeAttribute:a[0],declarators:a[2]})),a===null&&(c=d),a===null&&(h=d=c,a=pb(),a!==null?(g=o(),g!==null?(f=qb(),f!==null?(e=r(),e!==null?a=[a,g,f,e]:(a=null,c=h)):(a=null,c=h)):(a=null,c=h)):(a=null,c=h),a!==null&&(a=new u({type:"declarator",typeAttribute:a[0],declarators:a[2]})),a===null&&(c=d)));m[b]={nextPos:c,result:a};return a}function rb(){var d="function_prototype_parameter_list@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,n,h,i,l;b.substr(c,4)==="void"?(a=
"void",c+=4):(a=null,k===0&&j('"void"'));if(a===null){i=h=c;a=da();if(a!==null){g=[];l=c;f=w();f!==null?(n=da(),n!==null?f=[f,n]:(f=null,c=l)):(f=null,c=l);for(;f!==null;)g.push(f),l=c,f=w(),f!==null?(n=da(),n!==null?f=[f,n]:(f=null,c=l)):(f=null,c=l);g!==null?a=[a,g]:(a=null,c=i)}else a=null,c=i;a!==null&&(a=function(a,c){return[a].concat(c.map(function(a){return a[1]}))}(a[0],a[1]));a===null&&(c=h)}m[d]={nextPos:c,result:a};return a}function Ea(){var b="function_prototype@"+c,a=m[b];if(a)return c=
a.nextPos,a.result;var g,f,e,d,h,j,i;i=j=c;a=sb();a===null&&(a=S());a!==null?(g=o(),g!==null?(f=A(),f!==null?(e=B(),e!==null?(d=rb(),d=d!==null?d:"",d!==null?(h=F(),h!==null?a=[a,g,f,e,d,h]:(a=null,c=i)):(a=null,c=i)):(a=null,c=i)):(a=null,c=i)):(a=null,c=i)):(a=null,c=i);if(a!==null){g=a[4];z=new u({type:"function_prototype",name:a[2].name,returnType:a[0],parameters:g});if(g=="void"||!g)z.parameters=[];a=z}a===null&&(c=j);m[b]={nextPos:c,result:a};return a}function tb(){var d="parameter_qualifier@"+
c,a=m[d];if(a)return c=a.nextPos,a.result;b.substr(c,5)==="inout"?(a="inout",c+=5):(a=null,k===0&&j('"inout"'));a===null&&(b.substr(c,2)==="in"?(a="in",c+=2):(a=null,k===0&&j('"in"')),a===null&&(b.substr(c,3)==="out"?(a="out",c+=3):(a=null,k===0&&j('"out"'))));m[d]={nextPos:c,result:a};return a}function da(){var b="parameter_declaration@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e,d,h,j,i,k,l,p,r;r=p=a=c;g=ea();g!==null?(f=o(),f!==null?g=[g,f]:(g=null,c=r)):(g=null,c=r);g=g!==null?g:"";g!==
null?(r=c,f=tb(),f!==null?(e=o(),e!==null?f=[f,e]:(f=null,c=r)):(f=null,c=r),f=f!==null?f:"",f!==null?(r=c,e=ca(),e!==null?(d=o(),d!==null?e=[e,d]:(e=null,c=r)):(e=null,c=r),e=e!==null?e:"",e!==null?(d=R(),d!==null?(h=o(),h!==null?(j=A(),j!==null?(r=c,i=D(),i!==null?(k=K(),k!==null?(l=M(),l!==null?i=[i,k,l]:(i=null,c=r)):(i=null,c=r)):(i=null,c=r),i=i!==null?i:"",i!==null?g=[g,f,e,d,h,j,i]:(g=null,c=p)):(g=null,c=p)):(g=null,c=p)):(g=null,c=p)):(g=null,c=p)):(g=null,c=p)):(g=null,c=p);if(g!==null){f=
g[0];e=g[1];d=g[2];h=g[6];g=new u({type:"parameter",type_name:g[3],name:g[5].name});if(f)g.typeQualifier=f[0];if(e)g.parameterQualifier=e[0];if(d)g.precision=d[0];if(h)g.arraySize=h[1];g=g.typeQualifier&&g.parameterQualifier&&g.parameterQualifier!="in"?null:g}g===null&&(c=a);m[b]={nextPos:c,result:g};return g}function Ja(){var b="init_declarator_list@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e,d,h,j;h=d=c;a=fa();if(a!==null){g=[];j=c;f=w();f!==null?(e=fa(),e!==null?f=[f,e]:(f=null,c=j)):
(f=null,c=j);for(;f!==null;)g.push(f),j=c,f=w(),f!==null?(e=fa(),e!==null?f=[f,e]:(f=null,c=j)):(f=null,c=j);g!==null?a=[a,g]:(a=null,c=h)}else a=null,c=h;a!==null&&(a=function(a,c){return[a].concat(c.map(function(a){return a[1]}))}(a[0],a[1]));a===null&&(c=d);m[b]={nextPos:c,result:a};return a}function ub(){var b="declarator_list@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e,d,h,j;h=d=c;a=T();if(a!==null){g=[];j=c;f=w();f!==null?(e=T(),e!==null?f=[f,e]:(f=null,c=j)):(f=null,c=j);for(;f!==
null;)g.push(f),j=c,f=w(),f!==null?(e=T(),e!==null?f=[f,e]:(f=null,c=j)):(f=null,c=j);g!==null?a=[a,g]:(a=null,c=h)}else a=null,c=h;a!==null&&(a=function(a,c){return[a].concat(c.map(function(a){return a[1]}))}(a[0],a[1]));a===null&&(c=d);m[b]={nextPos:c,result:a};return a}function qb(){var b="declarator_list_no_array@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e,d,h,j;h=d=c;a=U();if(a!==null){g=[];j=c;f=w();f!==null?(e=U(),e!==null?f=[f,e]:(f=null,c=j)):(f=null,c=j);for(;f!==null;)g.push(f),
j=c,f=w(),f!==null?(e=U(),e!==null?f=[f,e]:(f=null,c=j)):(f=null,c=j);g!==null?a=[a,g]:(a=null,c=h)}else a=null,c=h;a!==null&&(a=function(a,c){return[a].concat(c.map(function(a){return a[1]}))}(a[0],a[1]));a===null&&(c=d);m[b]={nextPos:c,result:a};return a}function Ka(){var b="declarator_list_arrays_have_size@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e,d,h,j;h=d=c;a=V();if(a!==null){g=[];j=c;f=w();f!==null?(e=V(),e!==null?f=[f,e]:(f=null,c=j)):(f=null,c=j);for(;f!==null;)g.push(f),j=c,f=
w(),f!==null?(e=V(),e!==null?f=[f,e]:(f=null,c=j)):(f=null,c=j);g!==null?a=[a,g]:(a=null,c=h)}else a=null,c=h;a!==null&&(a=function(a,c){return[a].concat(c.map(function(a){return a[1]}))}(a[0],a[1]));a===null&&(c=d);m[b]={nextPos:c,result:a};return a}function U(){var b="declarator_no_array@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g;g=c;a=A();a!==null&&(a=new u({type:"declarator_item",name:a}));a===null&&(c=g);m[b]={nextPos:c,result:a};return a}function V(){var b="declarator_array_with_size@"+
c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e,d,h;h=d=c;a=A();a!==null?(g=D(),g!==null?(f=K(),f!==null?(e=M(),e!==null?a=[a,g,f,e]:(a=null,c=h)):(a=null,c=h)):(a=null,c=h)):(a=null,c=h);a!==null&&(a=new u({type:"declarator_item",name:a[0],arraySize:a[2],isArray:true}));a===null&&(c=d);a===null&&(a=U());m[b]={nextPos:c,result:a};return a}function T(){var b="declarator@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e,d;d=e=c;a=A();a!==null?(g=D(),g!==null?(f=M(),f!==null?a=[a,g,f]:(a=null,
c=d)):(a=null,c=d)):(a=null,c=d);a!==null&&(a=new u({type:"declarator_item",name:a[0],isArray:true}));a===null&&(c=e);a===null&&(a=V());m[b]={nextPos:c,result:a};return a}function fa(){var b="init_declarator@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e,d;d=e=c;a=A();a!==null?(g=ab(),g!==null?(f=K(),f!==null?a=[a,g,f]:(a=null,c=d)):(a=null,c=d)):(a=null,c=d);a!==null&&(a=new u({type:"declarator_item",name:a[0],initializer:a[2]}));a===null&&(c=e);a===null&&(a=T());m[b]={nextPos:c,result:a};
return a}function vb(){var b="member_list@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e,d,h,j;j=h=c;g=Q();g!==null?(f=o(),f!==null?(e=Ka(),e!==null?(d=r(),d!==null?g=[g,f,e,d]:(g=null,c=j)):(g=null,c=j)):(g=null,c=j)):(g=null,c=j);if(g!==null)for(a=[];g!==null;)a.push(g),j=c,g=Q(),g!==null?(f=o(),f!==null?(e=Ka(),e!==null?(d=r(),d!==null?g=[g,f,e,d]:(g=null,c=j)):(g=null,c=j)):(g=null,c=j)):(g=null,c=j);else a=null;a!==null&&(a=function(a){return a.map(function(a){return new u({type:"declarator",
typeAttribute:a[0],declarators:a[2]})})}(a));a===null&&(c=h);m[b]={nextPos:c,result:a};return a}function fb(){var d="struct_definition@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h,i,l,p,t,v,x;l=x=a=c;g=La();g===null&&(g=Ma());g!==null?(f=o(),f!==null?g=[g,f]:(g=null,c=l)):(g=null,c=l);g=g!==null?g:"";g!==null?(b.substr(c,6)==="struct"?(f="struct",c+=6):(f=null,k===0&&j('"struct"')),f!==null?(l=c,h=o(),h!==null?(i=A(),i!==null?h=[h,i]:(h=null,c=l)):(h=null,c=l),h=h!==null?h:"",h!==null?(i=
ta(),i!==null?(l=vb(),l!==null?(p=ua(),p!==null?(t=ub(),t=t!==null?t:"",t!==null?(v=r(),v!==null?g=[g,f,h,i,l,p,t,v]:(g=null,c=x)):(g=null,c=x)):(g=null,c=x)):(g=null,c=x)):(g=null,c=x)):(g=null,c=x)):(g=null,c=x)):(g=null,c=x);if(g!==null){f=g[0];h=g[2];i=g[6];g=new u({type:"struct_definition",members:g[4]});if(f)g.qualifier=f[0];if(h)g.name=h[1].name,wb[g.name]=g;if(i)g.declarators=i}g===null&&(c=a);m[d]={nextPos:c,result:g};return g}function S(){var b="precision_type@"+c,a=m[b];if(a)return c=a.nextPos,
a.result;var g,f,e,d;d=e=a=c;g=ca();g!==null?(f=o(),f!==null?g=[g,f]:(g=null,c=d)):(g=null,c=d);g=g!==null?g:"";g!==null?(f=R(),f!==null?g=[g,f]:(g=null,c=e)):(g=null,c=e);if(g!==null&&(f=g[0],g=new u({type:"type",name:g[1]}),f))g.precision=f[0];g===null&&(c=a);m[b]={nextPos:c,result:g};return g}function Q(){var b="locally_specified_type@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e,d;k++;d=e=a=c;g=ea();g!==null?(f=o(),f!==null?g=[g,f]:(g=null,c=d)):(g=null,c=d);g=g!==null?g:"";g!==null?(f=
S(),f!==null?g=[g,f]:(g=null,c=e)):(g=null,c=e);if(g!==null&&(f=g[0],g=g[1],f))g.qualifier=f[0];g===null&&(c=a);k--;k===0&&g===null&&j("locally specified type");m[b]={nextPos:c,result:g};return g}function Ma(){var d="attribute_qualifier@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h;h=f=c;a=P=="vs"?"":null;a!==null?(b.substr(c,9)==="attribute"?(g="attribute",c+=9):(g=null,k===0&&j('"attribute"')),g!==null?a=[a,g]:(a=null,c=h)):(a=null,c=h);a!==null&&(a="attribute");a===null&&(c=f);m[d]={nextPos:c,
result:a};return a}function pb(){var b="attribute_type@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e,d;k++;d=e=c;a=Ma();a!==null?(g=o(),g!==null?(f=S(),f!==null?a=[a,g,f]:(a=null,c=d)):(a=null,c=d)):(a=null,c=d);if(a!==null)g=a[2],g.qualifier=a[0],a=g;a===null&&(c=e);k--;k===0&&a===null&&j("locally specified type");m[b]={nextPos:c,result:a};return a}function ob(){var b="fully_specified_type@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e,d;k++;d=e=a=c;g=La();g!==null?(f=o(),f!==null?
g=[g,f]:(g=null,c=d)):(g=null,c=d);g=g!==null?g:"";g!==null?(f=S(),f!==null?g=[g,f]:(g=null,c=e)):(g=null,c=e);if(g!==null&&(f=g[0],g=g[1],f))g.qualifier=f[0];g===null&&(c=a);k--;k===0&&g===null&&j("fully specified type");m[b]={nextPos:c,result:g};return g}function ca(){var d="precision_qualifier@"+c,a=m[d];if(a)return c=a.nextPos,a.result;k++;b.substr(c,5)==="highp"?(a="highp",c+=5):(a=null,k===0&&j('"highp"'));a===null&&(b.substr(c,7)==="mediump"?(a="mediump",c+=7):(a=null,k===0&&j('"mediump"')),
a===null&&(b.substr(c,4)==="lowp"?(a="lowp",c+=4):(a=null,k===0&&j('"lowp"'))));k--;k===0&&a===null&&j("precision qualifier");m[d]={nextPos:c,result:a};return a}function ea(){var d="const_qualifier@"+c,a=m[d];if(a)return c=a.nextPos,a.result;b.substr(c,5)==="const"?(a="const",c+=5):(a=null,k===0&&j('"const"'));m[d]={nextPos:c,result:a};return a}function La(){var d="type_qualifier@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h,i;k++;a=ea();a===null&&(b.substr(c,7)==="varying"?(a="varying",c+=
7):(a=null,k===0&&j('"varying"')),a===null&&(i=h=c,b.substr(c,9)==="invariant"?(a="invariant",c+=9):(a=null,k===0&&j('"invariant"')),a!==null?(g=o(),g!==null?(b.substr(c,7)==="varying"?(f="varying",c+=7):(f=null,k===0&&j('"varying"')),f!==null?a=[a,g,f]:(a=null,c=i)):(a=null,c=i)):(a=null,c=i),a!==null&&(a="invariant varying"),a===null&&(c=h),a===null&&(b.substr(c,7)==="uniform"?(a="uniform",c+=7):(a=null,k===0&&j('"uniform"')))));k--;k===0&&a===null&&j("type qualifier");m[d]={nextPos:c,result:a};
return a}function sb(){var d="void_type@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g;k++;g=c;b.substr(c,4)==="void"?(a="void",c+=4):(a=null,k===0&&j('"void"'));a!==null&&(a=new u({type:"type",name:"void"}));a===null&&(c=g);k--;k===0&&a===null&&j("void");m[d]={nextPos:c,result:a};return a}function R(){var d="type_name@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g;k++;b.substr(c,5)==="float"?(a="float",c+=5):(a=null,k===0&&j('"float"'));a===null&&(b.substr(c,3)==="int"?(a="int",c+=3):(a=null,
k===0&&j('"int"')),a===null&&(b.substr(c,4)==="bool"?(a="bool",c+=4):(a=null,k===0&&j('"bool"')),a===null&&(b.substr(c,9)==="sampler2D"?(a="sampler2D",c+=9):(a=null,k===0&&j('"sampler2D"')),a===null&&(b.substr(c,11)==="samplerCube"?(a="samplerCube",c+=11):(a=null,k===0&&j('"samplerCube"')),a===null&&(a=Na(),a===null&&(a=Oa(),a===null&&(g=c,a=A(),a!==null&&(a=a.name in wb?a.name:null),a===null&&(c=g))))))));k--;k===0&&a===null&&j("type name");m[d]={nextPos:c,result:a};return a}function A(){var d="identifier@"+
c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h,i,l;k++;f=l=i=c;k++;h=c;a=xb();a!==null?(/^[^A-Za-z_0-9]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,k===0&&j("[^A-Za-z_0-9]")),g!==null?a=[a,g]:(a=null,c=h)):(a=null,c=h);k--;a===null?a="":(a=null,c=f);if(a!==null)if(/^[A-Za-z_]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,k===0&&j("[A-Za-z_]")),g!==null){f=[];/^[A-Za-z_0-9]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,k===0&&j("[A-Za-z_0-9]"));for(;h!==null;)f.push(h),/^[A-Za-z_0-9]/.test(b.charAt(c))?
(h=b.charAt(c),c++):(h=null,k===0&&j("[A-Za-z_0-9]"));f!==null?a=[a,g,f]:(a=null,c=l)}else a=null,c=l;else a=null,c=l;a!==null&&(a=new u({type:"identifier",name:a[1]+a[2].join("")}));a===null&&(c=i);k--;k===0&&a===null&&j("identifier");m[d]={nextPos:c,result:a};return a}function xb(){var d="keyword@"+c,a=m[d];if(a)return c=a.nextPos,a.result;k++;b.substr(c,9)==="attribute"?(a="attribute",c+=9):(a=null,k===0&&j('"attribute"'));a===null&&(b.substr(c,5)==="const"?(a="const",c+=5):(a=null,k===0&&j('"const"')),
a===null&&(b.substr(c,4)==="bool"?(a="bool",c+=4):(a=null,k===0&&j('"bool"')),a===null&&(b.substr(c,5)==="float"?(a="float",c+=5):(a=null,k===0&&j('"float"')),a===null&&(b.substr(c,3)==="int"?(a="int",c+=3):(a=null,k===0&&j('"int"')),a===null&&(b.substr(c,5)==="break"?(a="break",c+=5):(a=null,k===0&&j('"break"')),a===null&&(b.substr(c,8)==="continue"?(a="continue",c+=8):(a=null,k===0&&j('"continue"')),a===null&&(b.substr(c,2)==="do"?(a="do",c+=2):(a=null,k===0&&j('"do"')),a===null&&(b.substr(c,4)===
"else"?(a="else",c+=4):(a=null,k===0&&j('"else"')),a===null&&(b.substr(c,3)==="for"?(a="for",c+=3):(a=null,k===0&&j('"for"')),a===null&&(b.substr(c,2)==="if"?(a="if",c+=2):(a=null,k===0&&j('"if"')),a===null&&(b.substr(c,7)==="discard"?(a="discard",c+=7):(a=null,k===0&&j('"discard"')),a===null&&(b.substr(c,6)==="return"?(a="return",c+=6):(a=null,k===0&&j('"return"')),a===null&&(a=Na(),a===null&&(a=Oa(),a===null&&(b.substr(c,2)==="in"?(a="in",c+=2):(a=null,k===0&&j('"in"')),a===null&&(b.substr(c,3)===
"out"?(a="out",c+=3):(a=null,k===0&&j('"out"')),a===null&&(b.substr(c,5)==="inout"?(a="inout",c+=5):(a=null,k===0&&j('"inout"')),a===null&&(b.substr(c,7)==="uniform"?(a="uniform",c+=7):(a=null,k===0&&j('"uniform"')),a===null&&(b.substr(c,7)==="varying"?(a="varying",c+=7):(a=null,k===0&&j('"varying"')),a===null&&(b.substr(c,9)==="sampler2D"?(a="sampler2D",c+=9):(a=null,k===0&&j('"sampler2D"')),a===null&&(b.substr(c,11)==="samplerCube"?(a="samplerCube",c+=11):(a=null,k===0&&j('"samplerCube"')),a===
null&&(b.substr(c,6)==="struct"?(a="struct",c+=6):(a=null,k===0&&j('"struct"')),a===null&&(b.substr(c,4)==="void"?(a="void",c+=4):(a=null,k===0&&j('"void"')),a===null&&(b.substr(c,5)==="while"?(a="while",c+=5):(a=null,k===0&&j('"while"')),a===null&&(b.substr(c,5)==="highp"?(a="highp",c+=5):(a=null,k===0&&j('"highp"')),a===null&&(b.substr(c,7)==="mediump"?(a="mediump",c+=7):(a=null,k===0&&j('"mediump"')),a===null&&(b.substr(c,4)==="lowp"?(a="lowp",c+=4):(a=null,k===0&&j('"lowp"')),a===null&&(b.substr(c,
4)==="true"?(a="true",c+=4):(a=null,k===0&&j('"true"')),a===null&&(b.substr(c,5)==="false"?(a="false",c+=5):(a=null,k===0&&j('"false"')))))))))))))))))))))))))))))));k--;k===0&&a===null&&j("keyword");m[d]={nextPos:c,result:a};return a}function Na(){var d="vector@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h,i;i=h=c;/^[bi]/.test(b.charAt(c))?(a=b.charAt(c),c++):(a=null,k===0&&j("[bi]"));a=a!==null?a:"";a!==null?(b.substr(c,3)==="vec"?(g="vec",c+=3):(g=null,k===0&&j('"vec"')),g!==null?(/^[234]/.test(b.charAt(c))?
(f=b.charAt(c),c++):(f=null,k===0&&j("[234]")),f!==null?a=[a,g,f]:(a=null,c=i)):(a=null,c=i)):(a=null,c=i);a!==null&&(a=a.join(""));a===null&&(c=h);m[d]={nextPos:c,result:a};return a}function Oa(){var d="matrix@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h;h=f=c;b.substr(c,3)==="mat"?(a="mat",c+=3):(a=null,k===0&&j('"mat"'));a!==null?(/^[234]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,k===0&&j("[234]")),g!==null?a=[a,g]:(a=null,c=h)):(a=null,c=h);a!==null&&(a=a.join(""));a===null&&(c=
f);m[d]={nextPos:c,result:a};return a}function Pa(){var d="single_underscore_identifier@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h,i;i=c;a=[];/^[A-Za-z0-9]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,k===0&&j("[A-Za-z0-9]"));for(;g!==null;)a.push(g),/^[A-Za-z0-9]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,k===0&&j("[A-Za-z0-9]"));if(a!==null)if(b.charCodeAt(c)===95?(g="_",c+=1):(g=null,k===0&&j('"_"')),g!==null){/^[A-Za-z0-9]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,k===0&&
j("[A-Za-z0-9]"));if(h!==null)for(f=[];h!==null;)f.push(h),/^[A-Za-z0-9]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,k===0&&j("[A-Za-z0-9]"));else f=null;f!==null?a=[a,g,f]:(a=null,c=i)}else a=null,c=i;else a=null,c=i;m[d]={nextPos:c,result:a};return a}function yb(){var d="int_constant@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h,i,l;l=i=c;/^[1-9]/.test(b.charAt(c))?(a=b.charAt(c),c++):(a=null,k===0&&j("[1-9]"));if(a!==null){g=[];/^[0-9]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,
k===0&&j("[0-9]"));for(;f!==null;)g.push(f),/^[0-9]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,k===0&&j("[0-9]"));g!==null?a=[a,g]:(a=null,c=l)}else a=null,c=l;a!==null&&(a=new u({type:"int",value:parseInt([a[0]].concat(a[1]).join(""),10)}));a===null&&(c=i);if(a===null){l=i=c;b.charCodeAt(c)===48?(a="0",c+=1):(a=null,k===0&&j('"0"'));if(a!==null)if(/^[Xx]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,k===0&&j("[Xx]")),g!==null){/^[0-9A-Fa-f]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,k===
0&&j("[0-9A-Fa-f]"));if(h!==null)for(f=[];h!==null;)f.push(h),/^[0-9A-Fa-f]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,k===0&&j("[0-9A-Fa-f]"));else f=null;f!==null?a=[a,g,f]:(a=null,c=l)}else a=null,c=l;else a=null,c=l;a!==null&&(a=new u({type:"int",value:parseInt(a[2].join(""),16)}));a===null&&(c=i);if(a===null){l=i=c;b.charCodeAt(c)===48?(a="0",c+=1):(a=null,k===0&&j('"0"'));if(a!==null){/^[0-7]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,k===0&&j("[0-7]"));if(f!==null)for(g=[];f!==null;)g.push(f),
/^[0-7]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,k===0&&j("[0-7]"));else g=null;g!==null?a=[a,g]:(a=null,c=l)}else a=null,c=l;a!==null&&(a=new u({type:"int",value:parseInt(a[1].join(""),8)}));a===null&&(c=i);a===null&&(i=c,b.charCodeAt(c)===48?(a="0",c+=1):(a=null,k===0&&j('"0"')),a!==null&&(a=new u({type:"int",value:0})),a===null&&(c=i))}}m[d]={nextPos:c,result:a};return a}function zb(){var d="float_constant@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h,i,l;l=a=c;g=[];/^[0-9]/.test(b.charAt(c))?
(f=b.charAt(c),c++):(f=null,k===0&&j("[0-9]"));for(;f!==null;)g.push(f),/^[0-9]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,k===0&&j("[0-9]"));if(g!==null)if(b.charCodeAt(c)===46?(f=".",c+=1):(f=null,k===0&&j('"."')),f!==null){/^[0-9]/.test(b.charAt(c))?(i=b.charAt(c),c++):(i=null,k===0&&j("[0-9]"));if(i!==null)for(h=[];i!==null;)h.push(i),/^[0-9]/.test(b.charAt(c))?(i=b.charAt(c),c++):(i=null,k===0&&j("[0-9]"));else h=null;h!==null?(i=ga(),i=i!==null?i:"",i!==null?g=[g,f,h,i]:(g=null,c=l)):(g=
null,c=l)}else g=null,c=l;else g=null,c=l;if(g===null){l=c;/^[0-9]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,k===0&&j("[0-9]"));if(f!==null)for(g=[];f!==null;)g.push(f),/^[0-9]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,k===0&&j("[0-9]"));else g=null;if(g!==null)if(b.charCodeAt(c)===46?(f=".",c+=1):(f=null,k===0&&j('"."')),f!==null){h=[];/^[0-9]/.test(b.charAt(c))?(i=b.charAt(c),c++):(i=null,k===0&&j("[0-9]"));for(;i!==null;)h.push(i),/^[0-9]/.test(b.charAt(c))?(i=b.charAt(c),c++):(i=null,
k===0&&j("[0-9]"));h!==null?(i=ga(),i=i!==null?i:"",i!==null?g=[g,f,h,i]:(g=null,c=l)):(g=null,c=l)}else g=null,c=l;else g=null,c=l}g!==null&&(g[0]=g[0].join(""),g[2]=g[2].join(""),g=new u({type:"float",value:parseFloat(g.join(""))}));g===null&&(c=a);if(g===null){l=a=c;/^[0-9]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,k===0&&j("[0-9]"));if(f!==null)for(g=[];f!==null;)g.push(f),/^[0-9]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,k===0&&j("[0-9]"));else g=null;g!==null?(f=ga(),f!==null?g=[g,
f]:(g=null,c=l)):(g=null,c=l);g!==null&&(g=new u({type:"float",value:parseFloat(g[0].join("")+g[1])}));g===null&&(c=a)}m[d]={nextPos:c,result:g};return g}function ga(){var d="float_exponent@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h,i,l;l=i=c;/^[Ee]/.test(b.charAt(c))?(a=b.charAt(c),c++):(a=null,k===0&&j("[Ee]"));if(a!==null)if(/^[+\-]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,k===0&&j("[+\\-]")),g=g!==null?g:"",g!==null){/^[0-9]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,k===
0&&j("[0-9]"));if(h!==null)for(f=[];h!==null;)f.push(h),/^[0-9]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,k===0&&j("[0-9]"));else f=null;f!==null?a=[a,g,f]:(a=null,c=l)}else a=null,c=l;else a=null,c=l;a!==null&&(a=["e",a[1]].concat(a[2]).join(""));a===null&&(c=i);m[d]={nextPos:c,result:a};return a}function Ab(){var b="paren_expression@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e,d;d=e=c;a=B();a!==null?(g=C(),g!==null?(f=F(),f!==null?a=[a,g,f]:(a=null,c=d)):(a=null,c=d)):(a=null,c=d);
a!==null&&(a=a[1]);a===null&&(c=e);m[b]={nextPos:c,result:a};return a}function Bb(){var d="bool_constant@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g;g=c;b.substr(c,4)==="true"?(a="true",c+=4):(a=null,k===0&&j('"true"'));a===null&&(b.substr(c,5)==="false"?(a="false",c+=5):(a=null,k===0&&j('"false"')));a!==null&&(a=new u({type:"bool",value:a=="true"}));a===null&&(c=g);m[d]={nextPos:c,result:a};return a}function Cb(){var b="primary_expression@"+c,a=m[b];if(a)return c=a.nextPos,a.result;a=Db();
a===null&&(a=A(),a===null&&(a=zb(),a===null&&(a=yb(),a===null&&(a=Bb(),a===null&&(a=Ab())))));m[b]={nextPos:c,result:a};return a}function W(){var b="index_accessor@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e,d;d=e=c;a=D();a!==null?(g=C(),g!==null?(f=M(),f!==null?a=[a,g,f]:(a=null,c=d)):(a=null,c=d)):(a=null,c=d);a!==null&&(a=new u({type:"accessor",index:a[1]}));a===null&&(c=e);m[b]={nextPos:c,result:a};return a}function X(){var d="field_selector@"+c,a=m[d];if(a)return c=a.nextPos,a.result;
var g,f,h;h=f=c;b.charCodeAt(c)===46?(a=".",c+=1):(a=null,k===0&&j('"."'));a!==null?(g=A(),g!==null?a=[a,g]:(a=null,c=h)):(a=null,c=h);a!==null&&(a=new u({type:"field_selector",selection:a[1].name}));a===null&&(c=f);m[d]={nextPos:c,result:a};return a}function Eb(){var b="postfix_expression@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e,d;d=a=c;g=Cb();if(g!==null){f=[];e=X();for(e===null&&(e=W());e!==null;)f.push(e),e=X(),e===null&&(e=W());f!==null?g=[g,f]:(g=null,c=d)}else g=null,c=d;if(g!==
null){f=g[1];g=g[0];for(e=0;e<f.length;e++)g=new u({type:"postfix",operator:f[e],expression:g})}g===null&&(c=a);m[b]={nextPos:c,result:g};return g}function Fb(){var d="postfix_expression_no_repeat@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h,i,l,p;p=a=c;g=Eb();if(g!==null)if(f=o(),f=f!==null?f:"",f!==null)if(b.substr(c,2)==="++"?(h="++",c+=2):(h=null,k===0&&j('"++"')),h===null&&(b.substr(c,2)==="--"?(h="--",c+=2):(h=null,k===0&&j('"--"'))),h=h!==null?h:"",h!==null){i=[];l=X();for(l===null&&
(l=W());l!==null;)i.push(l),l=X(),l===null&&(l=W());i!==null?g=[g,f,h,i]:(g=null,c=p)}else g=null,c=p;else g=null,c=p;else g=null,c=p;if(g!==null){h=g[2];f=g[3];g=g[0];h&&(g=new u({type:"postfix",operator:new u({id:Gb++,type:"operator",operator:h}),expression:g}));for(h=0;h<f.length;h++)g=new u({type:"postfix",operator:f[h],expression:g})}g===null&&(c=a);m[d]={nextPos:c,result:g};return g}function za(){var d="parameter_list@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h,i,l,o;i=c;b.substr(c,
4)==="void"?(a="void",c+=4):(a=null,k===0&&j('"void"'));a!==null&&(a=[]);a===null&&(c=i);if(a===null){l=i=c;a=C();if(a!==null){g=[];o=c;f=w();f!==null?(h=C(),h!==null?f=[f,h]:(f=null,c=o)):(f=null,c=o);for(;f!==null;)g.push(f),o=c,f=w(),f!==null?(h=C(),h!==null?f=[f,h]:(f=null,c=o)):(f=null,c=o);g!==null?a=[a,g]:(a=null,c=l)}else a=null,c=l;a!==null&&(a=function(a,c){return[a].concat(c.map(function(a){return a[1]}))}(a[0],a[1]));a===null&&(c=i)}m[d]={nextPos:c,result:a};return a}function Db(){var b=
"function_call@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e,d,h;h=a=c;g=Hb();g!==null?(f=B(),f!==null?(e=za(),e=e!==null?e:"",e!==null?(d=F(),d!==null?g=[g,f,e,d]:(g=null,c=h)):(g=null,c=h)):(g=null,c=h)):(g=null,c=h);if(g!==null&&(f=g[2],g=new u({type:"function_call",function_name:g[0],parameters:f}),!f))g.parameters=[];g===null&&(c=a);m[b]={nextPos:c,result:g};return g}function Hb(){var b="function_identifier@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g;g=c;a=A();a!==null&&(a=a.name);
a===null&&(c=g);a===null&&(a=R());m[b]={nextPos:c,result:a};return a}function ha(){var d="unary_expression@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h,i;i=h=c;b.substr(c,2)==="++"?(a="++",c+=2):(a=null,k===0&&j('"++"'));a===null&&(b.substr(c,2)==="--"?(a="--",c+=2):(a=null,k===0&&j('"--"')),a===null&&(b.charCodeAt(c)===33?(a="!",c+=1):(a=null,k===0&&j('"!"')),a===null&&(b.charCodeAt(c)===126?(a="~",c+=1):(a=null,k===0&&j('"~"')),a===null&&(b.charCodeAt(c)===43?(a="+",c+=1):(a=null,k===0&&
j('"+"')),a===null&&(b.charCodeAt(c)===45?(a="-",c+=1):(a=null,k===0&&j('"-"')))))));a=a!==null?a:"";a!==null?(g=o(),g=g!==null?g:"",g!==null?(f=Fb(),f!==null?a=[a,g,f]:(a=null,c=i)):(a=null,c=i)):(a=null,c=i);a!==null&&(g=a[0],z=a[2],g&&(z=new u({type:"unary",expression:z,operator:new u({type:"operator",operator:g})})),a=z);a===null&&(c=h);m[d]={nextPos:c,result:a};return a}function Qa(){var d="multiplicative_operator@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h,i;h=f=c;b.charCodeAt(c)===
42?(a="*",c+=1):(a=null,k===0&&j('"*"'));a===null&&(b.charCodeAt(c)===47?(a="/",c+=1):(a=null,k===0&&j('"/"')),a===null&&(b.charCodeAt(c)===37?(a="%",c+=1):(a=null,k===0&&j('"%"'))));a!==null?(i=c,k++,b.charCodeAt(c)===61?(g="=",c+=1):(g=null,k===0&&j('"="')),k--,g===null?g="":(g=null,c=i),g!==null?a=[a,g]:(a=null,c=h)):(a=null,c=h);a!==null&&(a=new u({type:"operator",operator:a[0]}));a===null&&(c=f);m[d]={nextPos:c,result:a};return a}function ia(){var b="multiplicative_expression@"+c,a=m[b];if(a)return c=
a.nextPos,a.result;var g,f,e,d,h,j,i,k;i=j=c;a=ha();if(a!==null){g=[];k=c;f=o();f=f!==null?f:"";f!==null?(e=Qa(),e!==null?(d=o(),d=d!==null?d:"",d!==null?(h=ha(),h!==null?f=[f,e,d,h]:(f=null,c=k)):(f=null,c=k)):(f=null,c=k)):(f=null,c=k);for(;f!==null;)g.push(f),k=c,f=o(),f=f!==null?f:"",f!==null?(e=Qa(),e!==null?(d=o(),d=d!==null?d:"",d!==null?(h=ha(),h!==null?f=[f,e,d,h]:(f=null,c=k)):(f=null,c=k)):(f=null,c=k)):(f=null,c=k);g!==null?a=[a,g]:(a=null,c=i)}else a=null,c=i;a!==null&&(a=E(a[0],a[1]));
a===null&&(c=j);m[b]={nextPos:c,result:a};return a}function Ra(){var d="additive_operator@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h,i;h=f=c;b.charCodeAt(c)===43?(a="+",c+=1):(a=null,k===0&&j('"+"'));a!==null?(i=c,k++,b.charCodeAt(c)===43?(g="+",c+=1):(g=null,k===0&&j('"+"')),g===null&&(b.charCodeAt(c)===61?(g="=",c+=1):(g=null,k===0&&j('"="'))),k--,g===null?g="":(g=null,c=i),g!==null?a=[a,g]:(a=null,c=h)):(a=null,c=h);a!==null&&(a=new u({type:"operator",operator:"+"}));a===null&&(c=f);
a===null&&(h=f=c,b.charCodeAt(c)===45?(a="-",c+=1):(a=null,k===0&&j('"-"')),a!==null?(i=c,k++,b.charCodeAt(c)===45?(g="-",c+=1):(g=null,k===0&&j('"-"')),g===null&&(b.charCodeAt(c)===61?(g="=",c+=1):(g=null,k===0&&j('"="'))),k--,g===null?g="":(g=null,c=i),g!==null?a=[a,g]:(a=null,c=h)):(a=null,c=h),a!==null&&(a=new u({type:"operator",operator:"-"})),a===null&&(c=f));m[d]={nextPos:c,result:a};return a}function ja(){var b="additive_expression@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e,d,h,
j,i,k;i=j=c;a=ia();if(a!==null){g=[];k=c;f=o();f=f!==null?f:"";f!==null?(e=Ra(),e!==null?(d=o(),d=d!==null?d:"",d!==null?(h=ia(),h!==null?f=[f,e,d,h]:(f=null,c=k)):(f=null,c=k)):(f=null,c=k)):(f=null,c=k);for(;f!==null;)g.push(f),k=c,f=o(),f=f!==null?f:"",f!==null?(e=Ra(),e!==null?(d=o(),d=d!==null?d:"",d!==null?(h=ia(),h!==null?f=[f,e,d,h]:(f=null,c=k)):(f=null,c=k)):(f=null,c=k)):(f=null,c=k);g!==null?a=[a,g]:(a=null,c=i)}else a=null,c=i;a!==null&&(a=E(a[0],a[1]));a===null&&(c=j);m[b]={nextPos:c,
result:a};return a}function Sa(){var d="shift_operator@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h,i;h=f=c;b.substr(c,2)==="<<"?(a="<<",c+=2):(a=null,k===0&&j('"<<"'));a===null&&(b.substr(c,2)===">>"?(a=">>",c+=2):(a=null,k===0&&j('">>"')));a!==null?(i=c,k++,b.charCodeAt(c)===61?(g="=",c+=1):(g=null,k===0&&j('"="')),k--,g===null?g="":(g=null,c=i),g!==null?a=[a,g]:(a=null,c=h)):(a=null,c=h);a!==null&&(a=new u({type:"operator",operator:a[0]}));a===null&&(c=f);m[d]={nextPos:c,result:a};return a}
function ka(){var b="shift_expression@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e,d,h,j,i,k;i=j=c;a=ja();if(a!==null){g=[];k=c;f=o();f=f!==null?f:"";f!==null?(e=Sa(),e!==null?(d=o(),d=d!==null?d:"",d!==null?(h=ja(),h!==null?f=[f,e,d,h]:(f=null,c=k)):(f=null,c=k)):(f=null,c=k)):(f=null,c=k);for(;f!==null;)g.push(f),k=c,f=o(),f=f!==null?f:"",f!==null?(e=Sa(),e!==null?(d=o(),d=d!==null?d:"",d!==null?(h=ja(),h!==null?f=[f,e,d,h]:(f=null,c=k)):(f=null,c=k)):(f=null,c=k)):(f=null,c=k);g!==null?
a=[a,g]:(a=null,c=i)}else a=null,c=i;a!==null&&(a=E(a[0],a[1]));a===null&&(c=j);m[b]={nextPos:c,result:a};return a}function Ta(){var d="relational_operator@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h,i;i=h=c;b.charCodeAt(c)===60?(a="<",c+=1):(a=null,k===0&&j('"<"'));a!==null?(f=c,k++,b.charCodeAt(c)===60?(g="<",c+=1):(g=null,k===0&&j('"<"')),k--,g===null?g="":(g=null,c=f),g!==null?(b.charCodeAt(c)===61?(f="=",c+=1):(f=null,k===0&&j('"="')),f=f!==null?f:"",f!==null?a=[a,g,f]:(a=null,c=i)):
(a=null,c=i)):(a=null,c=i);a!==null&&(a=new u({type:"operator",operator:"<"+a[2]}));a===null&&(c=h);a===null&&(i=h=c,b.charCodeAt(c)===62?(a=">",c+=1):(a=null,k===0&&j('">"')),a!==null?(f=c,k++,b.charCodeAt(c)===62?(g=">",c+=1):(g=null,k===0&&j('">"')),k--,g===null?g="":(g=null,c=f),g!==null?(b.charCodeAt(c)===61?(f="=",c+=1):(f=null,k===0&&j('"="')),f=f!==null?f:"",f!==null?a=[a,g,f]:(a=null,c=i)):(a=null,c=i)):(a=null,c=i),a!==null&&(a=new u({type:"operator",operator:">"+a[2]})),a===null&&(c=h));
m[d]={nextPos:c,result:a};return a}function la(){var b="relational_expression@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e,d,h,i,j,k;j=i=c;a=ka();if(a!==null){g=[];k=c;f=o();f=f!==null?f:"";f!==null?(e=Ta(),e!==null?(d=o(),d=d!==null?d:"",d!==null?(h=ka(),h!==null?f=[f,e,d,h]:(f=null,c=k)):(f=null,c=k)):(f=null,c=k)):(f=null,c=k);for(;f!==null;)g.push(f),k=c,f=o(),f=f!==null?f:"",f!==null?(e=Ta(),e!==null?(d=o(),d=d!==null?d:"",d!==null?(h=ka(),h!==null?f=[f,e,d,h]:(f=null,c=k)):(f=null,
c=k)):(f=null,c=k)):(f=null,c=k);g!==null?a=[a,g]:(a=null,c=j)}else a=null,c=j;a!==null&&(a=E(a[0],a[1]));a===null&&(c=i);m[b]={nextPos:c,result:a};return a}function Ua(){var d="equality_operator@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g;g=c;b.substr(c,2)==="=="?(a="==",c+=2):(a=null,k===0&&j('"=="'));a===null&&(b.substr(c,2)==="!="?(a="!=",c+=2):(a=null,k===0&&j('"!="')));a!==null&&(a=new u({type:"operator",operator:a}));a===null&&(c=g);m[d]={nextPos:c,result:a};return a}function ma(){var b=
"equality_expression@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e,d,h,i,j,k;j=i=c;a=la();if(a!==null){g=[];k=c;f=o();f=f!==null?f:"";f!==null?(e=Ua(),e!==null?(d=o(),d=d!==null?d:"",d!==null?(h=la(),h!==null?f=[f,e,d,h]:(f=null,c=k)):(f=null,c=k)):(f=null,c=k)):(f=null,c=k);for(;f!==null;)g.push(f),k=c,f=o(),f=f!==null?f:"",f!==null?(e=Ua(),e!==null?(d=o(),d=d!==null?d:"",d!==null?(h=la(),h!==null?f=[f,e,d,h]:(f=null,c=k)):(f=null,c=k)):(f=null,c=k)):(f=null,c=k);g!==null?a=[a,g]:(a=null,
c=j)}else a=null,c=j;a!==null&&(a=E(a[0],a[1]));a===null&&(c=i);m[b]={nextPos:c,result:a};return a}function Va(){var d="bitwise_and_operator@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h,i;h=f=c;b.charCodeAt(c)===38?(a="&",c+=1):(a=null,k===0&&j('"&"'));a!==null?(i=c,k++,b.charCodeAt(c)===61?(g="=",c+=1):(g=null,k===0&&j('"="')),g===null&&(b.charCodeAt(c)===38?(g="&",c+=1):(g=null,k===0&&j('"&"'))),k--,g===null?g="":(g=null,c=i),g!==null?a=[a,g]:(a=null,c=h)):(a=null,c=h);a!==null&&(a=new u({type:"operator",
operator:"&"}));a===null&&(c=f);m[d]={nextPos:c,result:a};return a}function na(){var b="bitwise_and_expression@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,d,e,h,i,j,k;j=i=c;a=ma();if(a!==null){g=[];k=c;f=o();f=f!==null?f:"";f!==null?(d=Va(),d!==null?(e=o(),e=e!==null?e:"",e!==null?(h=ma(),h!==null?f=[f,d,e,h]:(f=null,c=k)):(f=null,c=k)):(f=null,c=k)):(f=null,c=k);for(;f!==null;)g.push(f),k=c,f=o(),f=f!==null?f:"",f!==null?(d=Va(),d!==null?(e=o(),e=e!==null?e:"",e!==null?(h=ma(),h!==null?f=
[f,d,e,h]:(f=null,c=k)):(f=null,c=k)):(f=null,c=k)):(f=null,c=k);g!==null?a=[a,g]:(a=null,c=j)}else a=null,c=j;a!==null&&(a=E(a[0],a[1]));a===null&&(c=i);m[b]={nextPos:c,result:a};return a}function Wa(){var d="bitwise_xor_operator@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h,i;h=f=c;b.charCodeAt(c)===94?(a="^",c+=1):(a=null,k===0&&j('"^"'));a!==null?(i=c,k++,b.charCodeAt(c)===61?(g="=",c+=1):(g=null,k===0&&j('"="')),g===null&&(b.charCodeAt(c)===94?(g="^",c+=1):(g=null,k===0&&j('"^"'))),k--,
g===null?g="":(g=null,c=i),g!==null?a=[a,g]:(a=null,c=h)):(a=null,c=h);a!==null&&(a=new u({type:"operator",operator:"^"}));a===null&&(c=f);m[d]={nextPos:c,result:a};return a}function oa(){var b="bitwise_xor_expression@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,e,d,h,i,j,k;j=i=c;a=na();if(a!==null){g=[];k=c;f=o();f=f!==null?f:"";f!==null?(e=Wa(),e!==null?(d=o(),d=d!==null?d:"",d!==null?(h=na(),h!==null?f=[f,e,d,h]:(f=null,c=k)):(f=null,c=k)):(f=null,c=k)):(f=null,c=k);for(;f!==null;)g.push(f),
k=c,f=o(),f=f!==null?f:"",f!==null?(e=Wa(),e!==null?(d=o(),d=d!==null?d:"",d!==null?(h=na(),h!==null?f=[f,e,d,h]:(f=null,c=k)):(f=null,c=k)):(f=null,c=k)):(f=null,c=k);g!==null?a=[a,g]:(a=null,c=j)}else a=null,c=j;a!==null&&(a=E(a[0],a[1]));a===null&&(c=i);m[b]={nextPos:c,result:a};return a}function Xa(){var d="bitwise_or_operator@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h,i;h=f=c;b.charCodeAt(c)===124?(a="|",c+=1):(a=null,k===0&&j('"|"'));a!==null?(i=c,k++,b.charCodeAt(c)===61?(g="=",
c+=1):(g=null,k===0&&j('"="')),g===null&&(b.charCodeAt(c)===124?(g="|",c+=1):(g=null,k===0&&j('"|"'))),k--,g===null?g="":(g=null,c=i),g!==null?a=[a,g]:(a=null,c=h)):(a=null,c=h);a!==null&&(a=new u({type:"operator",operator:"|"}));a===null&&(c=f);m[d]={nextPos:c,result:a};return a}function pa(){var b="bitwise_or_expression@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var g,f,d,e,h,i,j,k;j=i=c;a=oa();if(a!==null){g=[];k=c;f=o();f=f!==null?f:"";f!==null?(d=Xa(),d!==null?(e=o(),e=e!==null?e:"",e!==null?
(h=oa(),h!==null?f=[f,d,e,h]:(f=null,c=k)):(f=null,c=k)):(f=null,c=k)):(f=null,c=k);for(;f!==null;)g.push(f),k=c,f=o(),f=f!==null?f:"",f!==null?(d=Xa(),d!==null?(e=o(),e=e!==null?e:"",e!==null?(h=oa(),h!==null?f=[f,d,e,h]:(f=null,c=k)):(f=null,c=k)):(f=null,c=k)):(f=null,c=k);g!==null?a=[a,g]:(a=null,c=j)}else a=null,c=j;a!==null&&(a=E(a[0],a[1]));a===null&&(c=i);m[b]={nextPos:c,result:a};return a}function Ya(){var d="logical_and_operator@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g;g=c;b.substr(c,
2)==="&&"?(a="&&",c+=2):(a=null,k===0&&j('"&&"'));a!==null&&(a=new u({type:"operator",operator:"&&"}));a===null&&(c=g);m[d]={nextPos:c,result:a};return a}function qa(){var b="logical_and_expression@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var d,f,e,h,i,j,k,l;k=j=c;a=pa();if(a!==null){d=[];l=c;f=o();f=f!==null?f:"";f!==null?(e=Ya(),e!==null?(h=o(),h=h!==null?h:"",h!==null?(i=pa(),i!==null?f=[f,e,h,i]:(f=null,c=l)):(f=null,c=l)):(f=null,c=l)):(f=null,c=l);for(;f!==null;)d.push(f),l=c,f=o(),f=f!==
null?f:"",f!==null?(e=Ya(),e!==null?(h=o(),h=h!==null?h:"",h!==null?(i=pa(),i!==null?f=[f,e,h,i]:(f=null,c=l)):(f=null,c=l)):(f=null,c=l)):(f=null,c=l);d!==null?a=[a,d]:(a=null,c=k)}else a=null,c=k;a!==null&&(a=E(a[0],a[1]));a===null&&(c=j);m[b]={nextPos:c,result:a};return a}function Za(){var d="logical_xor_operator@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g;g=c;b.substr(c,2)==="^^"?(a="^^",c+=2):(a=null,k===0&&j('"^^"'));a!==null&&(a=new u({type:"operator",operator:"^^"}));a===null&&(c=g);
m[d]={nextPos:c,result:a};return a}function ra(){var b="logical_xor_expression@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var d,f,e,h,i,j,k,l;k=j=c;a=qa();if(a!==null){d=[];l=c;f=o();f=f!==null?f:"";f!==null?(e=Za(),e!==null?(h=o(),h=h!==null?h:"",h!==null?(i=qa(),i!==null?f=[f,e,h,i]:(f=null,c=l)):(f=null,c=l)):(f=null,c=l)):(f=null,c=l);for(;f!==null;)d.push(f),l=c,f=o(),f=f!==null?f:"",f!==null?(e=Za(),e!==null?(h=o(),h=h!==null?h:"",h!==null?(i=qa(),i!==null?f=[f,e,h,i]:(f=null,c=l)):(f=null,
c=l)):(f=null,c=l)):(f=null,c=l);d!==null?a=[a,d]:(a=null,c=k)}else a=null,c=k;a!==null&&(a=E(a[0],a[1]));a===null&&(c=j);m[b]={nextPos:c,result:a};return a}function $a(){var d="logical_or_operator@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g;g=c;b.substr(c,2)==="||"?(a="||",c+=2):(a=null,k===0&&j('"||"'));a!==null&&(a=new u({type:"operator",operator:"||"}));a===null&&(c=g);m[d]={nextPos:c,result:a};return a}function Ib(){var b="logical_or_expression@"+c,a=m[b];if(a)return c=a.nextPos,a.result;
var d,f,e,h,i,j,k,l;k=j=c;a=ra();if(a!==null){d=[];l=c;f=o();f=f!==null?f:"";f!==null?(e=$a(),e!==null?(h=o(),h=h!==null?h:"",h!==null?(i=ra(),i!==null?f=[f,e,h,i]:(f=null,c=l)):(f=null,c=l)):(f=null,c=l)):(f=null,c=l);for(;f!==null;)d.push(f),l=c,f=o(),f=f!==null?f:"",f!==null?(e=$a(),e!==null?(h=o(),h=h!==null?h:"",h!==null?(i=ra(),i!==null?f=[f,e,h,i]:(f=null,c=l)):(f=null,c=l)):(f=null,c=l)):(f=null,c=l);d!==null?a=[a,d]:(a=null,c=k)}else a=null,c=k;a!==null&&(a=E(a[0],a[1]));a===null&&(c=j);
m[b]={nextPos:c,result:a};return a}function K(){var d="conditional_expression@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h,i,l,p,r,x,q,w,y;w=a=c;g=Ib();g!==null?(y=c,f=o(),f=f!==null?f:"",f!==null?(b.charCodeAt(c)===63?(h="?",c+=1):(h=null,k===0&&j('"?"')),h!==null?(i=o(),i=i!==null?i:"",i!==null?(l=C(),l!==null?(p=o(),p=p!==null?p:"",p!==null?(b.charCodeAt(c)===58?(r=":",c+=1):(r=null,k===0&&j('":"')),r!==null?(x=o(),x=x!==null?x:"",x!==null?(q=C(),q!==null?f=[f,h,i,l,p,r,x,q]:(f=null,c=
y)):(f=null,c=y)):(f=null,c=y)):(f=null,c=y)):(f=null,c=y)):(f=null,c=y)):(f=null,c=y)):(f=null,c=y),f=f!==null?f:"",f!==null?g=[g,f]:(g=null,c=w)):(g=null,c=w);g!==null&&(f=g[0],g=g[1],z=f,g&&(z=new u({type:"ternary",condition:f,is_true:g[3],is_false:g[7]})),g=z);g===null&&(c=a);m[d]={nextPos:c,result:g};return g}function C(){var d="assignment_expression@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h,i,l,p;p=l=c;a=K();a!==null?(g=o(),g=g!==null?g:"",g!==null?(b.charCodeAt(c)===61?(f="=",c+=
1):(f=null,k===0&&j('"="')),f===null&&(b.substr(c,2)==="*="?(f="*=",c+=2):(f=null,k===0&&j('"*="')),f===null&&(b.substr(c,2)==="/="?(f="/=",c+=2):(f=null,k===0&&j('"/="')),f===null&&(b.substr(c,2)==="%="?(f="%=",c+=2):(f=null,k===0&&j('"%="')),f===null&&(b.substr(c,2)==="+="?(f="+=",c+=2):(f=null,k===0&&j('"+="')),f===null&&(b.substr(c,2)==="-="?(f="-=",c+=2):(f=null,k===0&&j('"-="')),f===null&&(b.substr(c,3)==="<<="?(f="<<=",c+=3):(f=null,k===0&&j('"<<="')),f===null&&(b.substr(c,3)===">>="?(f=">>=",
c+=3):(f=null,k===0&&j('">>="')),f===null&&(b.substr(c,2)==="&="?(f="&=",c+=2):(f=null,k===0&&j('"&="')),f===null&&(b.substr(c,2)==="^="?(f="^=",c+=2):(f=null,k===0&&j('"^="')),f===null&&(b.substr(c,2)==="|="?(f="|=",c+=2):(f=null,k===0&&j('"|="')))))))))))),f!==null?(h=o(),h=h!==null?h:"",h!==null?(i=C(),i!==null?a=[a,g,f,h,i]:(a=null,c=p)):(a=null,c=p)):(a=null,c=p)):(a=null,c=p)):(a=null,c=p);a!==null&&(a=new u({type:"binary",operator:new u({type:"operator",operator:a[2]}),left:a[0],right:a[4]}));
a===null&&(c=l);a===null&&(a=K());m[d]={nextPos:c,result:a};return a}function Ha(){var d="condition@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h,i,l,p,r;r=c;a=Q();a!==null?(g=o(),g!==null?(f=A(),f!==null?(h=o(),h=h!==null?h:"",h!==null?(b.charCodeAt(c)===61?(i="=",c+=1):(i=null,k===0&&j('"="')),i!==null?(l=o(),l=l!==null?l:"",l!==null?(p=C(),p!==null?a=[a,g,f,h,i,l,p]:(a=null,c=r)):(a=null,c=r)):(a=null,c=r)):(a=null,c=r)):(a=null,c=r)):(a=null,c=r)):(a=null,c=r);a===null&&(a=C());m[d]={nextPos:c,
result:a};return a}function Mb(){var d;a:{d=sa;d.sort();for(var a=null,g=[],f=0;f<d.length;f++)d[f]!==a&&(g.push(d[f]),a=d[f]);switch(g.length){case 0:d="end of input";break a;case 1:d=g[0];break a;default:d=g.slice(0,g.length-1).join(", ")+" or "+g[g.length-1]}}a=Math.max(c,L);a=a<b.length?i(b.charAt(a)):"end of input";return"Expected "+d+" but "+a+" found."}function Jb(){for(var d=1,a=1,g=false,f=0;f<Math.max(c,L);f++){var h=b.charAt(f);h==="\n"?(g||d++,a=1,g=false):h==="\r"||h==="\u2028"||h===
"\u2029"?(d++,a=1,g=true):(a++,g=false)}return{line:d,column:a}}function u(b){this.id=Gb++;this.line=Jb().line;for(var a in b)b.hasOwnProperty(a)&&(this[a]=b[a])}function E(b,a){for(var c=b,f=0;f<a.length;f++)c=new u({type:"binary",operator:a[f][1],left:c,right:a[f][3]});return c}function hb(b,a,c){c&&(a=a.concat([c]));c=b[0];c.guarded_statements=b[1].statements;for(var b=c,f=0;f<a.length;f++)b.elseBody=a[f][0],b.elseBody.guarded_statements=a[f][1].statements,b=b.elseBody;return c}var Kb={EOF:q,_:o,
additive_expression:ja,additive_operator:Ra,assignment_expression:C,attribute_qualifier:Ma,attribute_type:pb,bitwise_and_expression:na,bitwise_and_operator:Va,bitwise_or_expression:pa,bitwise_or_operator:Xa,bitwise_xor_expression:oa,bitwise_xor_operator:Wa,bool_constant:Bb,comma:w,comment:y,compound_statement:$,condition:Ha,conditional_expression:K,const_qualifier:ea,declaration:ba,declarator:T,declarator_array_with_size:V,declarator_list:ub,declarator_list_arrays_have_size:Ka,declarator_list_no_array:qb,
declarator_no_array:U,do_while:nb,equality_expression:ma,equality_operator:Ua,equals:ab,expression_statement:Ga,external_declaration:cb,external_statement:va,external_statement_list:G,field_selector:X,float_constant:zb,float_exponent:ga,for_loop:lb,fragment_start:function(){var b="fragment_start@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var d,f,e;e=f=c;P="fs";a="";a!==null?(d=G(),d!==null?a=[a,d]:(a=null,c=e)):(a=null,c=e);a!==null&&(a=a[1]);a===null&&(c=f);m[b]={nextPos:c,result:a};return a},fully_specified_type:ob,
function_call:Db,function_definition:db,function_identifier:Hb,function_prototype:Ea,function_prototype_parameter_list:rb,global_declaration:eb,identifier:A,index_accessor:W,init_declarator:fa,init_declarator_list:Ja,int_constant:yb,iteration_statement:jb,jump_statement:kb,keyword:xb,left_brace:ta,left_bracket:D,left_paren:B,locally_specified_type:Q,logical_and_expression:qa,logical_and_operator:Ya,logical_or_expression:Ib,logical_or_operator:$a,logical_xor_expression:ra,logical_xor_operator:Za,macro_call:Y,
macro_call_line:function(){var d="macro_call_line@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h,i;i=h=c;a=Y();a=a!==null?a:"";if(a!==null){g=[];/^[^\n]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,k===0&&j("[^\\n]"));for(;f!==null;)g.push(f),/^[^\n]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,k===0&&j("[^\\n]"));g!==null?a=[a,g]:(a=null,c=i)}else a=null,c=i;a!==null&&(a={macro_call:a[0],rest_of_line:a[1].join("")});a===null&&(c=h);m[d]={nextPos:c,result:a};return a},macro_call_parameter:Z,
macro_call_parameter_list:function(){var b="macro_call_parameter_list@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var d,f,e,h,i,j;i=h=c;a=Z();if(a!==null){d=[];j=c;f=w();f!==null?(e=Z(),e!==null?f=[f,e]:(f=null,c=j)):(f=null,c=j);for(;f!==null;)d.push(f),j=c,f=w(),f!==null?(e=Z(),e!==null?f=[f,e]:(f=null,c=j)):(f=null,c=j);d!==null?a=[a,d]:(a=null,c=i)}else a=null,c=i;a!==null&&(a=function(a,b){return[a].concat(b.map(function(a){return a[1]}))}(a[0],a[1]));a===null&&(c=h);m[b]={nextPos:c,result:a};
return a},macro_identifier:I,macro_paren_parameter:ya,matrix:Oa,member_list:vb,multiplicative_expression:ia,multiplicative_operator:Qa,newLine:l,noNewlineComment:p,noNewlineWhitespace:x,parameter_declaration:da,parameter_list:za,parameter_qualifier:tb,paren_expression:Ab,postfix_expression:Eb,postfix_expression_no_repeat:Fb,precision_qualifier:ca,precision_type:S,preprocessor_define:wa,preprocessor_else:Ba,preprocessor_else_if:N,preprocessor_end:Ca,preprocessor_external_branch:bb,preprocessor_if:Aa,
preprocessor_operator:xa,preprocessor_parameter_list:gb,preprocessor_statement_branch:Da,primary_expression:Cb,relational_expression:la,relational_operator:Ta,reserved:function(){var d="reserved@"+c,a=m[d];if(a)return c=a.nextPos,a.result;var g,f,h,i;k++;i=c;a=[];for(g=Pa();g!==null;)a.push(g),g=Pa();if(a!==null)if(b.substr(c,2)==="__"?(g="__",c+=2):(g=null,k===0&&j('"__"')),g!==null){f=[];/^[A-Za-z_0-9]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,k===0&&j("[A-Za-z_0-9]"));for(;h!==null;)f.push(h),
/^[A-Za-z_0-9]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,k===0&&j("[A-Za-z_0-9]"));f!==null?a=[a,g,f]:(a=null,c=i)}else a=null,c=i;else a=null,c=i;k--;k===0&&a===null&&j("reserved name");m[d]={nextPos:c,result:a};return a},right_brace:ua,right_bracket:M,right_paren:F,selection_statement:ib,semicolon:r,shift_expression:ka,shift_operator:Sa,simple_statement:Fa,single_underscore_identifier:Pa,statement_list:J,statement_no_new_scope:O,statement_with_scope:aa,struct_definition:fb,type_name:R,type_qualifier:La,
unary_expression:ha,vector:Na,vertex_start:function(){var b="vertex_start@"+c,a=m[b];if(a)return c=a.nextPos,a.result;var d,f,e;e=f=c;P="vs";a="";a!==null?(d=G(),d!==null?a=[a,d]:(a=null,c=e)):(a=null,c=e);a!==null&&(a=a[1]);a===null&&(c=f);m[b]={nextPos:c,result:a};return a},void_type:sb,while_loop:mb,while_statement:Ia};if(d!==void 0){if(Kb[d]===void 0)throw Error("Invalid rule name: "+i(d)+".");}else d="external_statement_list";var c=0,k=0,L=0,sa=[],m={},wb={},Gb=0,P="vs",z=Kb[d]();if(z===null||
c!==b.length){var Lb=Jb();throw new this.SyntaxError(Mb(),Lb.line,Lb.column);}return z},toSource:function(){return this._source},SyntaxError:function(b,d,h){this.name="SyntaxError";this.message=b;this.line=d;this.column=h}};b.SyntaxError.prototype=Error.prototype;return b}();glslunit.utils={};glslunit.utils.getFunctionSuffix=function(b){return glslunit.utils.toTitleOrCamelCase(b,true)};glslunit.utils.toTitleOrCamelCase=function(b,e,d){b=b.split(d||/_/g).map(function(b){return b.slice(0,1).toUpperCase()+b.slice(1).toLowerCase()}).join("");e||(b=b.slice(0,1).toLowerCase()+b.slice(1));return b};
glslunit.utils.BUILT_IN_GLOBALS=["varying mediump vec4 gl_FragCoord;","varying bool gl_FrontFacing;","varying mediump vec2 gl_PointCoord;"].map(function(b){return glslunit.glsl.parser.parse(b,"global_declaration")});goog.dom={};goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};goog.debug={};goog.debug.Error=function(b){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var e=Error().stack;if(e)this.stack=e}if(b)this.message=String(b)};goog.inherits(goog.debug.Error,Error);goog.debug.Error.prototype.name="CustomError";goog.string={};goog.string.Unicode={NBSP:"\u00a0"};goog.string.startsWith=function(b,e){return b.lastIndexOf(e,0)==0};goog.string.endsWith=function(b,e){var d=b.length-e.length;return d>=0&&b.indexOf(e,d)==d};goog.string.caseInsensitiveStartsWith=function(b,e){return goog.string.caseInsensitiveCompare(e,b.substr(0,e.length))==0};goog.string.caseInsensitiveEndsWith=function(b,e){return goog.string.caseInsensitiveCompare(e,b.substr(b.length-e.length,e.length))==0};
goog.string.caseInsensitiveEquals=function(b,e){return b.toLowerCase()==e.toLowerCase()};goog.string.subs=function(b,e){for(var d=b.split("%s"),h="",i=Array.prototype.slice.call(arguments,1);i.length&&d.length>1;)h+=d.shift()+i.shift();return h+d.join("%s")};goog.string.collapseWhitespace=function(b){return b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")};goog.string.isEmpty=function(b){return/^[\s\xa0]*$/.test(b)};goog.string.isEmptySafe=function(b){return goog.string.isEmpty(goog.string.makeSafe(b))};
goog.string.isBreakingWhitespace=function(b){return!/[^\t\n\r ]/.test(b)};goog.string.isAlpha=function(b){return!/[^a-zA-Z]/.test(b)};goog.string.isNumeric=function(b){return!/[^0-9]/.test(b)};goog.string.isAlphaNumeric=function(b){return!/[^a-zA-Z0-9]/.test(b)};goog.string.isSpace=function(b){return b==" "};goog.string.isUnicodeChar=function(b){return b.length==1&&b>=" "&&b<="~"||b>="\u0080"&&b<="\ufffd"};goog.string.stripNewlines=function(b){return b.replace(/(\r\n|\r|\n)+/g," ")};
goog.string.canonicalizeNewlines=function(b){return b.replace(/(\r\n|\r|\n)/g,"\n")};goog.string.normalizeWhitespace=function(b){return b.replace(/\xa0|\s/g," ")};goog.string.normalizeSpaces=function(b){return b.replace(/\xa0|[ \t]+/g," ")};goog.string.collapseBreakingSpaces=function(b){return b.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};goog.string.trim=function(b){return b.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};
goog.string.trimLeft=function(b){return b.replace(/^[\s\xa0]+/,"")};goog.string.trimRight=function(b){return b.replace(/[\s\xa0]+$/,"")};goog.string.caseInsensitiveCompare=function(b,e){var d=String(b).toLowerCase(),h=String(e).toLowerCase();return d<h?-1:d==h?0:1};goog.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g;
goog.string.numerateCompare=function(b,e){if(b==e)return 0;if(!b)return-1;if(!e)return 1;for(var d=b.toLowerCase().match(goog.string.numerateCompareRegExp_),h=e.toLowerCase().match(goog.string.numerateCompareRegExp_),i=Math.min(d.length,h.length),j=0;j<i;j++){var l=d[j],q=h[j];if(l!=q){d=parseInt(l,10);return!isNaN(d)&&(h=parseInt(q,10),!isNaN(h)&&d-h)?d-h:l<q?-1:1}}return d.length!=h.length?d.length-h.length:b<e?-1:1};goog.string.urlEncode=function(b){return encodeURIComponent(String(b))};
goog.string.urlDecode=function(b){return decodeURIComponent(b.replace(/\+/g," "))};goog.string.newLineToBr=function(b,e){return b.replace(/(\r\n|\r|\n)/g,e?"<br />":"<br>")};
goog.string.htmlEscape=function(b,e){if(e)return b.replace(goog.string.amperRe_,"&amp;").replace(goog.string.ltRe_,"&lt;").replace(goog.string.gtRe_,"&gt;").replace(goog.string.quotRe_,"&quot;").replace(goog.string.singleQuoteRe_,"&#39;");else{if(!goog.string.allRe_.test(b))return b;b.indexOf("&")!=-1&&(b=b.replace(goog.string.amperRe_,"&amp;"));b.indexOf("<")!=-1&&(b=b.replace(goog.string.ltRe_,"&lt;"));b.indexOf(">")!=-1&&(b=b.replace(goog.string.gtRe_,"&gt;"));b.indexOf('"')!=-1&&(b=b.replace(goog.string.quotRe_,
"&quot;"));b.indexOf("'")!=-1&&(b=b.replace(goog.string.singleQuoteRe_,"&#39;"));return b}};goog.string.amperRe_=/&/g;goog.string.ltRe_=/</g;goog.string.gtRe_=/>/g;goog.string.quotRe_=/"/g;goog.string.singleQuoteRe_=/'/g;goog.string.allRe_=/[&<>"']/;goog.string.unescapeEntities=function(b){return goog.string.contains(b,"&")?"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(b):goog.string.unescapePureXmlEntities_(b):b};
goog.string.unescapeEntitiesWithDocument=function(b,e){return goog.string.contains(b,"&")?goog.string.unescapeEntitiesUsingDom_(b,e):b};
goog.string.unescapeEntitiesUsingDom_=function(b,e){var d={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},h;h=e?e.createElement("div"):document.createElement("div");return b.replace(goog.string.HTML_ENTITY_PATTERN_,function(b,e){var l=d[b];if(l)return l;if(e.charAt(0)=="#"){var q=Number("0"+e.substr(1));isNaN(q)||(l=String.fromCharCode(q))}if(!l)h.innerHTML=b+" ",l=h.firstChild.nodeValue.slice(0,-1);return d[b]=l})};
goog.string.unescapePureXmlEntities_=function(b){return b.replace(/&([^;]+);/g,function(b,d){switch(d){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if(d.charAt(0)=="#"){var h=Number("0"+d.substr(1));if(!isNaN(h))return String.fromCharCode(h)}return b}})};goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g;goog.string.whitespaceEscape=function(b,e){return goog.string.newLineToBr(b.replace(/  /g," &#160;"),e)};
goog.string.stripQuotes=function(b,e){for(var d=e.length,h=0;h<d;h++){var i=d==1?e:e.charAt(h);if(b.charAt(0)==i&&b.charAt(b.length-1)==i)return b.substring(1,b.length-1)}return b};goog.string.truncate=function(b,e,d){d&&(b=goog.string.unescapeEntities(b));b.length>e&&(b=b.substring(0,e-3)+"...");d&&(b=goog.string.htmlEscape(b));return b};
goog.string.truncateMiddle=function(b,e,d,h){d&&(b=goog.string.unescapeEntities(b));if(h&&b.length>e){h>e&&(h=e);var i=b.length-h,b=b.substring(0,e-h)+"..."+b.substring(i)}else b.length>e&&(h=Math.floor(e/2),i=b.length-h,h+=e%2,b=b.substring(0,h)+"..."+b.substring(i));d&&(b=goog.string.htmlEscape(b));return b};goog.string.specialEscapeChars_={"\x00":"\\0","\u0008":"\\b","\u000c":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\u000b":"\\x0B",'"':'\\"',"\\":"\\\\"};goog.string.jsEscapeCache_={"'":"\\'"};
goog.string.quote=function(b){b=String(b);if(b.quote)return b.quote();else{for(var e=['"'],d=0;d<b.length;d++){var h=b.charAt(d),i=h.charCodeAt(0);e[d+1]=goog.string.specialEscapeChars_[h]||(i>31&&i<127?h:goog.string.escapeChar(h))}e.push('"');return e.join("")}};goog.string.escapeString=function(b){for(var e=[],d=0;d<b.length;d++)e[d]=goog.string.escapeChar(b.charAt(d));return e.join("")};
goog.string.escapeChar=function(b){if(b in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[b];if(b in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[b]=goog.string.specialEscapeChars_[b];var e=b,d=b.charCodeAt(0);if(d>31&&d<127)e=b;else{if(d<256){if(e="\\x",d<16||d>256)e+="0"}else e="\\u",d<4096&&(e+="0");e+=d.toString(16).toUpperCase()}return goog.string.jsEscapeCache_[b]=e};goog.string.toMap=function(b){for(var e={},d=0;d<b.length;d++)e[b.charAt(d)]=true;return e};
goog.string.contains=function(b,e){return b.indexOf(e)!=-1};goog.string.caseInsensitiveContains=function(b,e){return goog.string.contains(b.toLowerCase(),e.toLowerCase())};goog.string.countOf=function(b,e){return b&&e?b.split(e).length-1:0};goog.string.removeAt=function(b,e,d){var h=b;e>=0&&e<b.length&&d>0&&(h=b.substr(0,e)+b.substr(e+d,b.length-e-d));return h};goog.string.remove=function(b,e){var d=RegExp(goog.string.regExpEscape(e),"");return b.replace(d,"")};
goog.string.removeAll=function(b,e){var d=RegExp(goog.string.regExpEscape(e),"g");return b.replace(d,"")};goog.string.regExpEscape=function(b){return String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};goog.string.repeat=function(b,e){return Array(e+1).join(b)};goog.string.padNumber=function(b,e,d){b=goog.isDef(d)?b.toFixed(d):String(b);d=b.indexOf(".");if(d==-1)d=b.length;return goog.string.repeat("0",Math.max(0,e-d))+b};
goog.string.makeSafe=function(b){return b==null?"":String(b)};goog.string.buildString=function(b){return Array.prototype.join.call(arguments,"")};goog.string.getRandomString=function(){return Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^goog.now()).toString(36)};
goog.string.compareVersions=function(b,e){for(var d=0,h=goog.string.trim(String(b)).split("."),i=goog.string.trim(String(e)).split("."),j=Math.max(h.length,i.length),l=0;d==0&&l<j;l++){var q=h[l]||"",o=i[l]||"",p=RegExp("(\\d*)(\\D*)","g"),x=RegExp("(\\d*)(\\D*)","g");do{var y=p.exec(q)||["","",""],r=x.exec(o)||["","",""];if(y[0].length==0&&r[0].length==0)break;var d=y[1].length==0?0:parseInt(y[1],10),w=r[1].length==0?0:parseInt(r[1],10),d=goog.string.compareElements_(d,w)||goog.string.compareElements_(y[2].length==
0,r[2].length==0)||goog.string.compareElements_(y[2],r[2])}while(d==0)}return d};goog.string.compareElements_=function(b,e){if(b<e)return-1;else if(b>e)return 1;return 0};goog.string.HASHCODE_MAX_=4294967296;goog.string.hashCode=function(b){for(var e=0,d=0;d<b.length;++d)e=31*e+b.charCodeAt(d),e%=goog.string.HASHCODE_MAX_;return e};goog.string.uniqueStringCounter_=Math.random()*2147483648|0;goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++};
goog.string.toNumber=function(b){var e=Number(b);return e==0&&goog.string.isEmpty(b)?NaN:e};goog.string.isLowerCamelCase=function(b){return/^[a-z]+([A-Z][a-z]*)*$/.test(b)};goog.string.isUpperCamelCase=function(b){return/^([A-Z][a-z]*)+$/.test(b)};goog.string.toCamelCase=function(b){return String(b).replace(/\-([a-z])/g,function(b,d){return d.toUpperCase()})};goog.string.toSelectorCase=function(b){return String(b).replace(/([A-Z])/g,"-$1").toLowerCase()};
goog.string.toTitleCase=function(b,e){var d=goog.isString(e)?goog.string.regExpEscape(e):"\\s";return b.replace(RegExp("(^"+(d?"|["+d+"]+":"")+")([a-z])","g"),function(b,d,e){return d+e.toUpperCase()})};goog.string.parseInt=function(b){isFinite(b)&&(b=String(b));return goog.isString(b)?/^\s*-?0x/i.test(b)?parseInt(b,16):parseInt(b,10):NaN};goog.string.splitLimit=function(b,e,d){for(var b=b.split(e),h=[];d>0&&b.length;)h.push(b.shift()),d--;b.length&&h.push(b.join(e));return h};goog.asserts={};goog.define("goog.asserts.ENABLE_ASSERTS",goog.DEBUG);goog.asserts.AssertionError=function(b,e){e.unshift(b);goog.debug.Error.call(this,goog.string.subs.apply(null,e));e.shift();this.messagePattern=b};goog.inherits(goog.asserts.AssertionError,goog.debug.Error);goog.asserts.AssertionError.prototype.name="AssertionError";
goog.asserts.doAssertFailure_=function(b,e,d,h){var i="Assertion failed";if(d){i+=": "+d;var j=h}else b&&(i+=": "+b,j=e);throw new goog.asserts.AssertionError(""+i,j||[]);};goog.asserts.assert=function(b,e,d){goog.asserts.ENABLE_ASSERTS&&!b&&goog.asserts.doAssertFailure_("",null,e,Array.prototype.slice.call(arguments,2));return b};goog.asserts.fail=function(b,e){if(goog.asserts.ENABLE_ASSERTS)throw new goog.asserts.AssertionError("Failure"+(b?": "+b:""),Array.prototype.slice.call(arguments,1));};
goog.asserts.assertNumber=function(b,e,d){goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(b)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(b),b],e,Array.prototype.slice.call(arguments,2));return b};goog.asserts.assertString=function(b,e,d){goog.asserts.ENABLE_ASSERTS&&!goog.isString(b)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(b),b],e,Array.prototype.slice.call(arguments,2));return b};
goog.asserts.assertFunction=function(b,e,d){goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(b)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(b),b],e,Array.prototype.slice.call(arguments,2));return b};goog.asserts.assertObject=function(b,e,d){goog.asserts.ENABLE_ASSERTS&&!goog.isObject(b)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(b),b],e,Array.prototype.slice.call(arguments,2));return b};
goog.asserts.assertArray=function(b,e,d){goog.asserts.ENABLE_ASSERTS&&!goog.isArray(b)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(b),b],e,Array.prototype.slice.call(arguments,2));return b};goog.asserts.assertBoolean=function(b,e,d){goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(b)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(b),b],e,Array.prototype.slice.call(arguments,2));return b};
goog.asserts.assertElement=function(b,e,d){goog.asserts.ENABLE_ASSERTS&&(!goog.isObject(b)||b.nodeType!=goog.dom.NodeType.ELEMENT)&&goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(b),b],e,Array.prototype.slice.call(arguments,2));return b};goog.asserts.assertInstanceof=function(b,e,d,h){goog.asserts.ENABLE_ASSERTS&&!(b instanceof e)&&goog.asserts.doAssertFailure_("instanceof check failed.",null,d,Array.prototype.slice.call(arguments,3));return b};
goog.asserts.assertObjectPrototypeIsIntact=function(){for(var b in Object.prototype)goog.asserts.fail(b+" should not be enumerable in Object.prototype.")};goog.array={};goog.define("goog.NATIVE_ARRAY_PROTOTYPES",goog.TRUSTED_SITE);goog.define("goog.array.ASSUME_NATIVE_FUNCTIONS",false);goog.array.peek=function(b){return b[b.length-1]};goog.array.last=goog.array.peek;goog.array.ARRAY_PROTOTYPE_=Array.prototype;
goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.indexOf)?function(b,e,d){goog.asserts.assert(b.length!=null);return goog.array.ARRAY_PROTOTYPE_.indexOf.call(b,e,d)}:function(b,e,d){d=d==null?0:d<0?Math.max(0,b.length+d):d;if(goog.isString(b))return!goog.isString(e)||e.length!=1?-1:b.indexOf(e,d);for(;d<b.length;d++)if(d in b&&b[d]===e)return d;return-1};
goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.lastIndexOf)?function(b,e,d){goog.asserts.assert(b.length!=null);return goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(b,e,d==null?b.length-1:d)}:function(b,e,d){d=d==null?b.length-1:d;d<0&&(d=Math.max(0,b.length+d));if(goog.isString(b))return!goog.isString(e)||e.length!=1?-1:b.lastIndexOf(e,d);for(;d>=0;d--)if(d in b&&b[d]===e)return d;return-1};
goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.forEach)?function(b,e,d){goog.asserts.assert(b.length!=null);goog.array.ARRAY_PROTOTYPE_.forEach.call(b,e,d)}:function(b,e,d){for(var h=b.length,i=goog.isString(b)?b.split(""):b,j=0;j<h;j++)j in i&&e.call(d,i[j],j,b)};goog.array.forEachRight=function(b,e,d){var h=b.length,i=goog.isString(b)?b.split(""):b;for(h-=1;h>=0;--h)h in i&&e.call(d,i[h],h,b)};
goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.filter)?function(b,e,d){goog.asserts.assert(b.length!=null);return goog.array.ARRAY_PROTOTYPE_.filter.call(b,e,d)}:function(b,e,d){for(var h=b.length,i=[],j=0,l=goog.isString(b)?b.split(""):b,q=0;q<h;q++)if(q in l){var o=l[q];e.call(d,o,q,b)&&(i[j++]=o)}return i};
goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.map)?function(b,e,d){goog.asserts.assert(b.length!=null);return goog.array.ARRAY_PROTOTYPE_.map.call(b,e,d)}:function(b,e,d){for(var h=b.length,i=Array(h),j=goog.isString(b)?b.split(""):b,l=0;l<h;l++)l in j&&(i[l]=e.call(d,j[l],l,b));return i};
goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.reduce)?function(b,e,d,h){goog.asserts.assert(b.length!=null);h&&(e=goog.bind(e,h));return goog.array.ARRAY_PROTOTYPE_.reduce.call(b,e,d)}:function(b,e,d,h){var i=d;goog.array.forEach(b,function(d,l){i=e.call(h,i,d,l,b)});return i};
goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.reduceRight)?function(b,e,d,h){goog.asserts.assert(b.length!=null);h&&(e=goog.bind(e,h));return goog.array.ARRAY_PROTOTYPE_.reduceRight.call(b,e,d)}:function(b,e,d,h){var i=d;goog.array.forEachRight(b,function(d,l){i=e.call(h,i,d,l,b)});return i};
goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.some)?function(b,e,d){goog.asserts.assert(b.length!=null);return goog.array.ARRAY_PROTOTYPE_.some.call(b,e,d)}:function(b,e,d){for(var h=b.length,i=goog.isString(b)?b.split(""):b,j=0;j<h;j++)if(j in i&&e.call(d,i[j],j,b))return true;return false};
goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.every)?function(b,e,d){goog.asserts.assert(b.length!=null);return goog.array.ARRAY_PROTOTYPE_.every.call(b,e,d)}:function(b,e,d){for(var h=b.length,i=goog.isString(b)?b.split(""):b,j=0;j<h;j++)if(j in i&&!e.call(d,i[j],j,b))return false;return true};goog.array.count=function(b,e,d){var h=0;goog.array.forEach(b,function(b,j,l){e.call(d,b,j,l)&&++h},d);return h};
goog.array.find=function(b,e,d){e=goog.array.findIndex(b,e,d);return e<0?null:goog.isString(b)?b.charAt(e):b[e]};goog.array.findIndex=function(b,e,d){for(var h=b.length,i=goog.isString(b)?b.split(""):b,j=0;j<h;j++)if(j in i&&e.call(d,i[j],j,b))return j;return-1};goog.array.findRight=function(b,e,d){e=goog.array.findIndexRight(b,e,d);return e<0?null:goog.isString(b)?b.charAt(e):b[e]};
goog.array.findIndexRight=function(b,e,d){var h=b.length,i=goog.isString(b)?b.split(""):b;for(h-=1;h>=0;h--)if(h in i&&e.call(d,i[h],h,b))return h;return-1};goog.array.contains=function(b,e){return goog.array.indexOf(b,e)>=0};goog.array.isEmpty=function(b){return b.length==0};goog.array.clear=function(b){if(!goog.isArray(b))for(var e=b.length-1;e>=0;e--)delete b[e];b.length=0};goog.array.insert=function(b,e){goog.array.contains(b,e)||b.push(e)};
goog.array.insertAt=function(b,e,d){goog.array.splice(b,d,0,e)};goog.array.insertArrayAt=function(b,e,d){goog.partial(goog.array.splice,b,d,0).apply(null,e)};goog.array.insertBefore=function(b,e,d){var h;arguments.length==2||(h=goog.array.indexOf(b,d))<0?b.push(e):goog.array.insertAt(b,e,h)};goog.array.remove=function(b,e){var d=goog.array.indexOf(b,e),h;(h=d>=0)&&goog.array.removeAt(b,d);return h};
goog.array.removeAt=function(b,e){goog.asserts.assert(b.length!=null);return goog.array.ARRAY_PROTOTYPE_.splice.call(b,e,1).length==1};goog.array.removeIf=function(b,e,d){e=goog.array.findIndex(b,e,d);return e>=0?(goog.array.removeAt(b,e),true):false};goog.array.concat=function(b){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)};goog.array.join=function(b){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)};
goog.array.toArray=function(b){var e=b.length;if(e>0){for(var d=Array(e),h=0;h<e;h++)d[h]=b[h];return d}return[]};goog.array.clone=goog.array.toArray;goog.array.extend=function(b,e){for(var d=1;d<arguments.length;d++){var h=arguments[d],i;if(goog.isArray(h)||(i=goog.isArrayLike(h))&&Object.prototype.hasOwnProperty.call(h,"callee"))b.push.apply(b,h);else if(i)for(var j=b.length,l=h.length,q=0;q<l;q++)b[j+q]=h[q];else b.push(h)}};
goog.array.splice=function(b,e,d,h){goog.asserts.assert(b.length!=null);return goog.array.ARRAY_PROTOTYPE_.splice.apply(b,goog.array.slice(arguments,1))};goog.array.slice=function(b,e,d){goog.asserts.assert(b.length!=null);return arguments.length<=2?goog.array.ARRAY_PROTOTYPE_.slice.call(b,e):goog.array.ARRAY_PROTOTYPE_.slice.call(b,e,d)};
goog.array.removeDuplicates=function(b,e,d){for(var e=e||b,d=d||function(){return goog.isObject(l)?"o"+goog.getUid(l):(typeof l).charAt(0)+l},h={},i=0,j=0;j<b.length;){var l=b[j++],q=d(l);Object.prototype.hasOwnProperty.call(h,q)||(h[q]=true,e[i++]=l)}e.length=i};goog.array.binarySearch=function(b,e,d){return goog.array.binarySearch_(b,d||goog.array.defaultCompare,false,e)};goog.array.binarySelect=function(b,e,d){return goog.array.binarySearch_(b,e,true,void 0,d)};
goog.array.binarySearch_=function(b,e,d,h,i){for(var j=0,l=b.length,q;j<l;){var o=j+l>>1,p;p=d?e.call(i,b[o],o,b):e(h,b[o]);p>0?j=o+1:(l=o,q=!p)}return q?j:~j};goog.array.sort=function(b,e){b.sort(e||goog.array.defaultCompare)};goog.array.stableSort=function(b,e){for(var d=0;d<b.length;d++)b[d]={index:d,value:b[d]};var h=e||goog.array.defaultCompare;goog.array.sort(b,function(b,d){return h(b.value,d.value)||b.index-d.index});for(d=0;d<b.length;d++)b[d]=b[d].value};
goog.array.sortObjectsByKey=function(b,e,d){var h=d||goog.array.defaultCompare;goog.array.sort(b,function(b,d){return h(b[e],d[e])})};goog.array.isSorted=function(b,e,d){for(var e=e||goog.array.defaultCompare,h=1;h<b.length;h++){var i=e(b[h-1],b[h]);if(i>0||i==0&&d)return false}return true};
goog.array.equals=function(b,e,d){if(!goog.isArrayLike(b)||!goog.isArrayLike(e)||b.length!=e.length)return false;for(var h=b.length,d=d||goog.array.defaultCompareEquality,i=0;i<h;i++)if(!d(b[i],e[i]))return false;return true};goog.array.compare3=function(b,e,d){for(var d=d||goog.array.defaultCompare,h=Math.min(b.length,e.length),i=0;i<h;i++){var j=d(b[i],e[i]);if(j!=0)return j}return goog.array.defaultCompare(b.length,e.length)};goog.array.defaultCompare=function(b,e){return b>e?1:b<e?-1:0};
goog.array.defaultCompareEquality=function(b,e){return b===e};goog.array.binaryInsert=function(b,e,d){d=goog.array.binarySearch(b,e,d);return d<0?(goog.array.insertAt(b,e,-(d+1)),true):false};goog.array.binaryRemove=function(b,e,d){e=goog.array.binarySearch(b,e,d);return e>=0?goog.array.removeAt(b,e):false};goog.array.bucket=function(b,e,d){for(var h={},i=0;i<b.length;i++){var j=b[i],l=e.call(d,j,i,b);goog.isDef(l)&&(h[l]||(h[l]=[])).push(j)}return h};
goog.array.toObject=function(b,e,d){var h={};goog.array.forEach(b,function(i,j){h[e.call(d,i,j,b)]=i});return h};goog.array.range=function(b,e,d){var h=[],i=0,j=b,d=d||1;e!==void 0&&(i=b,j=e);if(d*(j-i)<0)return[];if(d>0)for(b=i;b<j;b+=d)h.push(b);else for(b=i;b>j;b+=d)h.push(b);return h};goog.array.repeat=function(b,e){for(var d=[],h=0;h<e;h++)d[h]=b;return d};
goog.array.flatten=function(b){for(var e=[],d=0;d<arguments.length;d++){var h=arguments[d];goog.isArray(h)?e.push.apply(e,goog.array.flatten.apply(null,h)):e.push(h)}return e};goog.array.rotate=function(b,e){goog.asserts.assert(b.length!=null);b.length&&(e%=b.length,e>0?goog.array.ARRAY_PROTOTYPE_.unshift.apply(b,b.splice(-e,e)):e<0&&goog.array.ARRAY_PROTOTYPE_.push.apply(b,b.splice(0,-e)));return b};
goog.array.moveItem=function(b,e,d){goog.asserts.assert(e>=0&&e<b.length);goog.asserts.assert(d>=0&&d<b.length);e=goog.array.ARRAY_PROTOTYPE_.splice.call(b,e,1);goog.array.ARRAY_PROTOTYPE_.splice.call(b,d,0,e[0])};goog.array.zip=function(b){if(!arguments.length)return[];for(var e=[],d=0;;d++){for(var h=[],i=0;i<arguments.length;i++){var j=arguments[i];if(d>=j.length)return e;h.push(j[d])}e.push(h)}};
goog.array.shuffle=function(b,e){for(var d=e||Math.random,h=b.length-1;h>0;h--){var i=Math.floor(d()*(h+1)),j=b[h];b[h]=b[i];b[i]=j}};glslunit.ASTVisitor=function(){};glslunit.ASTVisitor.prototype.getBeforeVisitFunction=function(b){return this["beforeVisit"+glslunit.utils.getFunctionSuffix(b.type)]};glslunit.ASTVisitor.prototype.getAfterVisitFunction=function(b){return this["afterVisit"+glslunit.utils.getFunctionSuffix(b.type)]};glslunit.ASTVisitor.prototype.getVisitFunction=function(b){return this["visit"+glslunit.utils.getFunctionSuffix(b.type)]};
glslunit.ASTVisitor.prototype.visitNode=function(b){if(b&&b.type){var e=this.getBeforeVisitFunction(b);e&&e.apply(this,[b]);(e=this.getVisitFunction(b))?e.apply(this,[b]):this.genericVisitor(b);(e=this.getAfterVisitFunction(b))&&e.apply(this,[b])}};glslunit.ASTVisitor.prototype.visitList=function(b){goog.array.forEach(b,function(b){this.visitNode(b)},this)};
glslunit.ASTVisitor.prototype.genericVisitor=function(b){for(var e in b){var d=b[e];goog.isArray(d)?this.visitList(d):goog.isObject(d)&&d.type&&this.visitNode(d)}};glslunit.Generator=function(b,e){glslunit.ASTVisitor.call(this);this.newline_str_=b||"\n";this.debug_=!!e;this.sourceCode_="";this.currentIndent_=0};goog.inherits(glslunit.Generator,glslunit.ASTVisitor);glslunit.Generator.INDENT_STR_="  ";glslunit.Generator.EvaluationOrder_={LTR:0,RTL:1,NA:2};glslunit.Generator.OperationEvaluation_=function(b,e,d,h){this.precedence=b;this.evaluationOrder=e||glslunit.Generator.EvaluationOrder_.LTR;this.associative=!!d;this.maxOperands=h||2};
glslunit.Generator.ORDER_OF_OPERATIONS_={function_call:new glslunit.Generator.OperationEvaluation_(0,glslunit.Generator.EvaluationOrder_.NA),identifier:new glslunit.Generator.OperationEvaluation_(0,glslunit.Generator.EvaluationOrder_.NA),"float":new glslunit.Generator.OperationEvaluation_(0,glslunit.Generator.EvaluationOrder_.NA),"int":new glslunit.Generator.OperationEvaluation_(0,glslunit.Generator.EvaluationOrder_.NA),bool:new glslunit.Generator.OperationEvaluation_(0,glslunit.Generator.EvaluationOrder_.NA),
postfix:new glslunit.Generator.OperationEvaluation_(1,glslunit.Generator.EvaluationOrder_.LTR,false,1),unary:new glslunit.Generator.OperationEvaluation_(2,glslunit.Generator.EvaluationOrder_.RTL,false,1),"*":new glslunit.Generator.OperationEvaluation_(3,glslunit.Generator.EvaluationOrder_.LTR,true),"/":new glslunit.Generator.OperationEvaluation_(3),"%":new glslunit.Generator.OperationEvaluation_(3),"+":new glslunit.Generator.OperationEvaluation_(4,glslunit.Generator.EvaluationOrder_.LTR,true),"-":new glslunit.Generator.OperationEvaluation_(4),
"<<":new glslunit.Generator.OperationEvaluation_(5),">>":new glslunit.Generator.OperationEvaluation_(5),"<":new glslunit.Generator.OperationEvaluation_(6),">":new glslunit.Generator.OperationEvaluation_(6),"<=":new glslunit.Generator.OperationEvaluation_(6),">=":new glslunit.Generator.OperationEvaluation_(6),"==":new glslunit.Generator.OperationEvaluation_(7),"!=":new glslunit.Generator.OperationEvaluation_(7),"&":new glslunit.Generator.OperationEvaluation_(8,glslunit.Generator.EvaluationOrder_.LTR,
true),"^":new glslunit.Generator.OperationEvaluation_(9,glslunit.Generator.EvaluationOrder_.LTR,true),"|":new glslunit.Generator.OperationEvaluation_(10,glslunit.Generator.EvaluationOrder_.LTR,true),"&&":new glslunit.Generator.OperationEvaluation_(11,glslunit.Generator.EvaluationOrder_.LTR,true),"^^":new glslunit.Generator.OperationEvaluation_(12,glslunit.Generator.EvaluationOrder_.LTR,true),"||":new glslunit.Generator.OperationEvaluation_(13,glslunit.Generator.EvaluationOrder_.LTR,true),ternary:new glslunit.Generator.OperationEvaluation_(14,
glslunit.Generator.EvaluationOrder_.RTL,false,3),"=":new glslunit.Generator.OperationEvaluation_(15),"-=":new glslunit.Generator.OperationEvaluation_(15),"+=":new glslunit.Generator.OperationEvaluation_(15),"*=":new glslunit.Generator.OperationEvaluation_(15),"/=":new glslunit.Generator.OperationEvaluation_(15),"%=":new glslunit.Generator.OperationEvaluation_(15),"<<=":new glslunit.Generator.OperationEvaluation_(15),">>=":new glslunit.Generator.OperationEvaluation_(15),"&=":new glslunit.Generator.OperationEvaluation_(15),
"^=":new glslunit.Generator.OperationEvaluation_(15),"|=":new glslunit.Generator.OperationEvaluation_(15)};glslunit.Generator.getNodePrecedence_=function(b){return glslunit.Generator.ORDER_OF_OPERATIONS_[glslunit.Generator.getNodeOperator_(b)]};glslunit.Generator.getNodeOperator_=function(b){return b.type=="binary"?b.operator.operator:b.type};glslunit.Generator.getSourceCode=function(b,e,d){e=new glslunit.Generator(e,d);e.visitNode(b);return e.sourceCode_};
glslunit.Generator.prototype.checkAndAdd=function(b,e,d){return e?b+e+d:""};glslunit.Generator.prototype.addNodesWithJoin_=function(b,e){for(var d=0;d<b.length;d++)d!=0&&(this.sourceCode_+=e),this.visitNode(b[d])};glslunit.Generator.prototype.maybePrintNewline_=function(){this.debug_&&(this.sourceCode_+=this.newline_str_+Array(this.currentIndent_+1).join(glslunit.Generator.INDENT_STR_))};
glslunit.Generator.prototype.maybeUnindent_=function(){if(this.debug_&&this.sourceCode_.slice(-1*glslunit.Generator.INDENT_STR_.length)==glslunit.Generator.INDENT_STR_)this.sourceCode_=this.sourceCode_.slice(0,-1*glslunit.Generator.INDENT_STR_.length)};
glslunit.Generator.prototype.visitStructDefinition=function(b){this.sourceCode_+=this.checkAndAdd("",b.qualifier," ");this.sourceCode_+="struct";this.sourceCode_+=this.checkAndAdd(" ",b.name,"");this.sourceCode_+="{";this.currentIndent_++;this.addNodesWithJoin_(b.members,"");this.currentIndent_--;this.maybeUnindent_();this.sourceCode_+="}";b.declarators&&this.addNodesWithJoin_(b.declarators,",");this.sourceCode_+=";";this.maybePrintNewline_()};
glslunit.Generator.prototype.visitScope=function(b){this.sourceCode_+="{";this.currentIndent_++;this.maybePrintNewline_();this.addNodesWithJoin_(b.statements,"");this.currentIndent_--;this.maybeUnindent_();this.sourceCode_+="}";this.maybePrintNewline_()};glslunit.Generator.prototype.visitPrecision=function(b){this.sourceCode_+="precision "+b.precision+" "+b.typeName+";";this.maybePrintNewline_()};
glslunit.Generator.prototype.visitInvariant=function(b){this.sourceCode_+="invariant ";this.addNodesWithJoin_(b.identifiers,",");this.sourceCode_+=";";this.maybePrintNewline_()};
glslunit.Generator.prototype.visitParameter=function(b){this.sourceCode_+=this.checkAndAdd("",b.typeQualifier," ");this.sourceCode_+=this.checkAndAdd("",b.parameterQualifier," ");this.sourceCode_+=this.checkAndAdd("",b.precision," ");this.sourceCode_+=b.type_name+" "+b.name;b.arraySize&&(this.sourceCode_+="[",this.visitNode(b.arraySize),this.sourceCode_+="]")};
glslunit.Generator.prototype.generateFunctionPrototype_=function(b){this.visitNode(b.returnType);this.sourceCode_+=" "+b.name+"(";this.addNodesWithJoin_(b.parameters,",");this.sourceCode_+=")"};glslunit.Generator.prototype.visitFunctionPrototype=function(b){this.generateFunctionPrototype_(b);this.sourceCode_+=";";this.maybePrintNewline_()};glslunit.Generator.prototype.visitFunctionDeclaration=function(b){this.generateFunctionPrototype_(b);this.visitNode(b.body)};
glslunit.Generator.prototype.visitPreprocessor=function(b){var e=this.sourceCode_.slice(-1*this.newline_str_.length);e&&e!=this.newline_str_&&(this.sourceCode_+=this.newline_str_);this.sourceCode_+=b.directive;b.directive=="#define"?(this.sourceCode_+=" "+b.identifier,b.parameters&&(this.sourceCode_+="(",this.addNodesWithJoin_(b.parameters,","),this.sourceCode_+=")"),this.sourceCode_+=this.checkAndAdd(" ",b.token_string,"")):this.sourceCode_+=this.checkAndAdd(" ",b.value,"");this.sourceCode_+=this.newline_str_;
b.guarded_statements&&(this.addNodesWithJoin_(b.guarded_statements,""),b.elseBody&&this.visitNode(b.elseBody),b.directive.slice(0,3)=="#if"&&(e=this.sourceCode_.slice(-1*this.newline_str_.length),e!=this.newline_str_&&(this.sourceCode_+=this.newline_str_),this.sourceCode_+="#endif"+this.newline_str_))};glslunit.Generator.prototype.generateWhile_=function(b){this.sourceCode_+="while(";this.visitNode(b.condition);this.sourceCode_+=")"};
glslunit.Generator.prototype.visitDoStatement=function(b){this.sourceCode_+="do";b.body.type!="scope"&&(this.sourceCode_+=" ");this.visitNode(b.body);this.generateWhile_(b)};glslunit.Generator.prototype.visitWhileStatement=function(b){this.generateWhile_(b);this.visitNode(b.body)};glslunit.Generator.prototype.visitForStatement=function(b){this.sourceCode_+="for(";this.visitNode(b.initializer);this.visitNode(b.condition);this.sourceCode_+=";";this.visitNode(b.increment);this.sourceCode_+=")";this.visitNode(b.body)};
glslunit.Generator.prototype.visitIfStatement=function(b){this.sourceCode_+="if(";this.visitNode(b.condition);this.sourceCode_+=")";this.visitNode(b.body);b.elseBody&&(this.sourceCode_+="else",b.elseBody.type!="scope"&&(this.sourceCode_+=" "),this.visitNode(b.elseBody))};glslunit.Generator.prototype.visitDeclaratorItem=function(b){this.visitNode(b.name);b.isArray&&(this.sourceCode_+="[",b.arraySize&&this.visitNode(b.arraySize),this.sourceCode_+="]");b.initializer&&(this.sourceCode_+="=",this.visitNode(b.initializer))};
glslunit.Generator.prototype.visitDeclarator=function(b){this.visitNode(b.typeAttribute);this.sourceCode_+=" ";this.addNodesWithJoin_(b.declarators,",");this.sourceCode_+=";";this.maybePrintNewline_()};glslunit.Generator.prototype.visitType=function(b){this.sourceCode_+=this.checkAndAdd("",b.qualifier," ");this.sourceCode_+=this.checkAndAdd("",b.precision," ");this.sourceCode_+=b.name};glslunit.Generator.prototype.visitExpression=function(b){this.visitNode(b.expression);this.sourceCode_+=";";this.maybePrintNewline_()};
glslunit.Generator.prototype.visitJump=function(b){this.sourceCode_+=b.type;b.value&&(this.sourceCode_+=" ",this.visitNode(b.value));this.sourceCode_+=";";this.maybePrintNewline_()};glslunit.Generator.prototype.visitReturn=glslunit.Generator.prototype.visitJump;glslunit.Generator.prototype.visitBreak=glslunit.Generator.prototype.visitJump;glslunit.Generator.prototype.visitDiscard=glslunit.Generator.prototype.visitJump;glslunit.Generator.prototype.visitContinue=glslunit.Generator.prototype.visitJump;
glslunit.Generator.prototype.visitUnary=function(b){this.sourceCode_.slice(-1)==b.operator.operator&&(this.sourceCode_+=" ");this.visitNode(b.operator);this.maybeParenthizeNode_(b.expression,b,0)};glslunit.Generator.prototype.visitPostfix=function(b){this.maybeParenthizeNode_(b.expression,b,0);this.visitNode(b.operator)};glslunit.Generator.prototype.visitOperator=function(b){this.sourceCode_+=b.operator};glslunit.Generator.prototype.visitFieldSelector=function(b){this.sourceCode_+="."+b.selection};
glslunit.Generator.prototype.visitAccessor=function(b){this.sourceCode_+="[";this.visitNode(b.index);this.sourceCode_+="]"};glslunit.Generator.prototype.visitFunctionCall=function(b){this.sourceCode_+=b.function_name+"(";this.addNodesWithJoin_(b.parameters,",");this.sourceCode_+=")"};glslunit.Generator.prototype.visitIdentifier=function(b){this.sourceCode_+=b.name};
glslunit.Generator.formatFloat=function(b){if(b==0)return"0.";var e=function(b){return b.toLowerCase().replace(/^0*|\+/g,"").replace(/(?:(\.[1-9]+)|\.)0*e/g,"$1e")},d=e(""+b),b=e(b.toExponential());d.indexOf(".")==-1&&d.indexOf("e")==-1&&(d+=".");return d.length<=b.length?d:b};glslunit.Generator.formatInt=function(b){var e=b.toString(10),b=(b<0?"-":"")+"0x"+Math.abs(b).toString(16).toLowerCase();return e.length<=b.length?e:b};glslunit.Generator.prototype.visitFloat=function(b){this.sourceCode_+=glslunit.Generator.formatFloat(b.value)};
glslunit.Generator.prototype.visitValue=function(b){this.sourceCode_+=b.value};glslunit.Generator.prototype.visitInt=function(b){this.sourceCode_+=glslunit.Generator.formatInt(b.value)};glslunit.Generator.prototype.visitBool=glslunit.Generator.prototype.visitValue;glslunit.Generator.prototype.visitBinary=function(b){this.maybeParenthizeNode_(b.left,b,0);this.visitNode(b.operator);this.maybeParenthizeNode_(b.right,b,1)};
glslunit.Generator.prototype.visitTernary=function(b){this.maybeParenthizeNode_(b.condition,b,0);this.sourceCode_+="?";this.maybeParenthizeNode_(b.is_true,b,1);this.sourceCode_+=":";this.maybeParenthizeNode_(b.is_false,b,2)};
glslunit.Generator.prototype.maybeParenthizeNode_=function(b,e,d){var h=glslunit.Generator.getNodePrecedence_(b),i=glslunit.Generator.getNodePrecedence_(e),j=false;h.precedence>i.precedence?j=true:h.precedence==i.precedence?(j=glslunit.Generator.getNodeOperator_(b),e=glslunit.Generator.getNodeOperator_(e),j=i.evaluationOrder==glslunit.Generator.EvaluationOrder_.LTR&&d==0||i.evaluationOrder==glslunit.Generator.EvaluationOrder_.RTL&&d==i.maxOperands-1?false:j==e&&h.associative?false:true):j=false;j&&
(this.sourceCode_+="(");this.visitNode(b);j&&(this.sourceCode_+=")")};goog.object={};goog.object.forEach=function(b,e,d){for(var h in b)e.call(d,b[h],h,b)};goog.object.filter=function(b,e,d){var h={},i;for(i in b)e.call(d,b[i],i,b)&&(h[i]=b[i]);return h};goog.object.map=function(b,e,d){var h={},i;for(i in b)h[i]=e.call(d,b[i],i,b);return h};goog.object.some=function(b,e,d){for(var h in b)if(e.call(d,b[h],h,b))return true;return false};goog.object.every=function(b,e,d){for(var h in b)if(!e.call(d,b[h],h,b))return false;return true};
goog.object.getCount=function(b){var e=0,d;for(d in b)e++;return e};goog.object.getAnyKey=function(b){for(var e in b)return e};goog.object.getAnyValue=function(b){for(var e in b)return b[e]};goog.object.contains=function(b,e){return goog.object.containsValue(b,e)};goog.object.getValues=function(b){var e=[],d=0,h;for(h in b)e[d++]=b[h];return e};goog.object.getKeys=function(b){var e=[],d=0,h;for(h in b)e[d++]=h;return e};
goog.object.getValueByKeys=function(b,e){for(var d=goog.isArrayLike(e),h=d?e:arguments,d=d?0:1;d<h.length;d++)if(b=b[h[d]],!goog.isDef(b))break;return b};goog.object.containsKey=function(b,e){return e in b};goog.object.containsValue=function(b,e){for(var d in b)if(b[d]==e)return true;return false};goog.object.findKey=function(b,e,d){for(var h in b)if(e.call(d,b[h],h,b))return h};goog.object.findValue=function(b,e,d){return(e=goog.object.findKey(b,e,d))&&b[e]};
goog.object.isEmpty=function(b){for(var e in b)return false;return true};goog.object.clear=function(b){for(var e in b)delete b[e]};goog.object.remove=function(b,e){var d;(d=e in b)&&delete b[e];return d};goog.object.add=function(b,e,d){if(e in b)throw Error('The object already contains the key "'+e+'"');goog.object.set(b,e,d)};goog.object.get=function(b,e,d){return e in b?b[e]:d};goog.object.set=function(b,e,d){b[e]=d};goog.object.setIfUndefined=function(b,e,d){return e in b?b[e]:b[e]=d};
goog.object.clone=function(b){var e={},d;for(d in b)e[d]=b[d];return e};goog.object.unsafeClone=function(b){var e=goog.typeOf(b);if(e=="object"||e=="array"){if(b.clone)return b.clone();var e=e=="array"?[]:{},d;for(d in b)e[d]=goog.object.unsafeClone(b[d]);return e}return b};goog.object.transpose=function(b){var e={},d;for(d in b)e[b[d]]=d;return e};goog.object.PROTOTYPE_FIELDS_="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");
goog.object.extend=function(b,e){for(var d,h,i=1;i<arguments.length;i++){h=arguments[i];for(d in h)b[d]=h[d];for(var j=0;j<goog.object.PROTOTYPE_FIELDS_.length;j++)d=goog.object.PROTOTYPE_FIELDS_[j],Object.prototype.hasOwnProperty.call(h,d)&&(b[d]=h[d])}};
goog.object.create=function(b){var e=arguments.length;if(e==1&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(e%2)throw Error("Uneven number of arguments");for(var d={},h=0;h<e;h+=2)d[arguments[h]]=arguments[h+1];return d};goog.object.createSet=function(b){var e=arguments.length;if(e==1&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var d={},h=0;h<e;h++)d[arguments[h]]=true;return d};
goog.object.createImmutableView=function(b){var e=b;Object.isFrozen&&!Object.isFrozen(b)&&(e=Object.create(b),Object.freeze(e));return e};goog.object.isImmutableView=function(b){return!!Object.isFrozen&&Object.isFrozen(b)};glslunit.compiler={};glslunit.compiler.ShaderJsConst=function(){this.expression=this.shortName=this.originalName=""};glslunit.compiler.ShaderMode=function(){this.shortName=this.preprocessorName="";this.options=[]};glslunit.compiler.ShaderMode.prototype.clone=function(){var b=goog.object.clone(this);b.options=goog.array.clone(this.options);return b};
glslunit.compiler.ShaderAttributeEntry=function(){this.originalName=this.shortName="";this.debugSourceSize=this.debugSourceOffset=this.compiledSourceSize=this.compiledSourceOffset=this.variableSize=0};glslunit.compiler.ShaderUniformEntry=function(){this.type=this.originalName=this.shortName=""};
glslunit.compiler.ShaderProgram=function(){this.namespace=this.superClass=this.template=this.className="";this.licenses=[];this.jsRequires=[];this.jsConsts=[];this.templateProperties={};this.prettyPrint=false;this.originalFragmentSource=this.originalVertexSource="";this.attributeMap={};this.uniformMap={};this.shaderModes=[];this.fragmentAst={};this.vertexAst={};this.includedFiles={}};
glslunit.compiler.ShaderProgram.prototype.clone=function(){var b=goog.object.clone(this);b.attributeMap=goog.object.clone(this.attributeMap);b.uniformMap=goog.object.clone(this.uniformMap);b.templateProperties=goog.object.clone(this.templateProperties);b.jsRequires=goog.array.clone(this.jsRequires);b.includedFiles=goog.object.clone(this.includedFiles);b.jsConsts=this.jsConsts.map(function(b){return goog.object.clone(b)});b.shaderModes=this.shaderModes.map(function(b){return b.clone()});return b};
glslunit.compiler.ShaderProgram.prototype.getVertexSource=function(b){return glslunit.Generator.getSourceCode(this.vertexAst,b||"\\n",this.prettyPrint)};glslunit.compiler.ShaderProgram.prototype.getFragmentSource=function(b){return glslunit.Generator.getSourceCode(this.fragmentAst,b||"\\n",this.prettyPrint)};glslunit.compiler.ShaderProgram.escapeString=function(b,e){return b.replace(/\n/g,e||"\\n").replace(/'/g,"\\'")};
glslunit.compiler.ShaderProgram.prototype.getOriginalFragmentSource=function(b){return glslunit.compiler.ShaderProgram.escapeString(this.originalFragmentSource,b)};glslunit.compiler.ShaderProgram.prototype.getOriginalVertexSource=function(b){return glslunit.compiler.ShaderProgram.escapeString(this.originalVertexSource,b)};glslunit.compiler.ShaderProgram.prototype.getAttributes=function(){var b=[],e;for(e in this.attributeMap)b.push(this.attributeMap[e]);b.length>0&&(b[b.length-1].last=true);return b};
glslunit.compiler.ShaderProgram.prototype.getUniforms=function(){var b=[],e;for(e in this.uniformMap)b.push(this.uniformMap[e]);b.length>0&&(b[b.length-1].last=true);return b};
glslunit.compiler.ShaderProgram.prototype.defaultProgramShortNames=function(){goog.array.forEach(this.jsConsts,function(b){if(b.shortName=="")b.shortName=b.originalName});var b={},e;for(e in this.attributeMap){var d=this.attributeMap[e];b[d.shortName]=d}e={};for(var h in this.uniformMap)d=this.uniformMap[h],e[d.shortName]=d;this.defaultProgramVariables_(this.vertexAst,b,e);this.defaultProgramVariables_(this.fragmentAst,b,e)};
glslunit.compiler.ShaderProgram.prototype.defaultProgramVariables_=function(b,e,d){b=glslunit.NodeCollector.collectNodes(b,function(b){return b.type=="declarator"&&(b.typeAttribute.qualifier=="attribute"||b.typeAttribute.qualifier=="uniform")});goog.array.forEach(b,function(b){goog.array.forEach(b.declarators,function(i){var i=i.name.name,j=b.typeAttribute.name;if(b.typeAttribute.qualifier=="attribute"){var l=e[i];if(!l){l=new glslunit.compiler.ShaderAttributeEntry;l.shortName=i;l.originalName=i;
var q=glslunit.Generator.getSourceCode(b),o=this.originalVertexSource.search(q),j=parseInt(j.slice(3,4),10);l.variableSize=isNaN(j)?1:j;l.debugSourceOffset=o;l.debugSourceSize=q.length;this.attributeMap[i]=l}}else if(l=d[i],!l)l=new glslunit.compiler.ShaderUniformEntry,l.shortName=i,l.originalName=i,l.type=j,this.uniformMap[i]=l},this)},this)};glslunit.NodeCollector=function(b){glslunit.ASTVisitor.call(this);this.collectedNodes_=[];this.nodeStack_=[];this.filterFunction_=b};goog.inherits(glslunit.NodeCollector,glslunit.ASTVisitor);glslunit.NodeCollector.prototype.maybeCollectNode_=function(b){this.filterFunction_(b,this.nodeStack_.slice(0,-1))&&this.collectedNodes_.push(b);this.genericVisitor(b)};glslunit.NodeCollector.prototype.getCollectedNodes=function(){return this.collectedNodes_};
glslunit.NodeCollector.prototype.getBeforeVisitFunction=function(){return goog.bind(Array.prototype.push,this.nodeStack_)};glslunit.NodeCollector.prototype.getAfterVisitFunction=function(){return goog.bind(Array.prototype.pop,this.nodeStack_)};glslunit.NodeCollector.prototype.getVisitFunction=function(){return this.maybeCollectNode_};glslunit.NodeCollector.collectNodes=function(b,e){var d=new glslunit.NodeCollector(e);d.visitNode(b);return d.getCollectedNodes()};glslunit.compiler.Preprocessor=function(){};glslunit.compiler.Preprocessor.RE_LICENSE_=/\/\*\*\n \* @license[\s\S]*?\*\//g;glslunit.compiler.Preprocessor.RE_CLASS_=/\/\/!\s*CLASS=(\S*)/;glslunit.compiler.Preprocessor.RE_SUPERCLASS_=/\/\/!\s*SUPERCLASS=(\S*)/;glslunit.compiler.Preprocessor.RE_NAMESPACE_=/\/\/!\s*NAMESPACE=(\S*)/;glslunit.compiler.Preprocessor.RE_FRAGMENT_=/\/\/!\s*FRAGMENT/;glslunit.compiler.Preprocessor.RE_VERTEX_=/\/\/!\s*VERTEX/;glslunit.compiler.Preprocessor.RE_COMMON_=/\/\/!\s*COMMON/;
glslunit.compiler.Preprocessor.RE_INCLUDE_=/\/\/!\s*INCLUDE\s+(.*)/;glslunit.compiler.Preprocessor.RE_REQUIRE_=/\/\/!\s*REQUIRE\s+(.*)/;glslunit.compiler.Preprocessor.RE_PROVIDE_=/\/\/!\s*PROVIDE\s+(.*)/;glslunit.compiler.Preprocessor.RE_TEMPLATE_=/\/\/!\s*TEMPLATE\s+(.*)/;glslunit.compiler.Preprocessor.RE_DEFAULT_MODE_=/\/\/!\s*MODE\s+(\S+)/;glslunit.compiler.Preprocessor.RE_MODE_=/\/\/!\s*MODE\s+(\S+)\s+(.*)/;glslunit.compiler.Preprocessor.RE_JSREQUIRE_=/\/\/!\s*JSREQUIRE\s+(\S+)/;
glslunit.compiler.Preprocessor.RE_JSCONST_=/\/\/!\s*JSCONST\s+(\S+)\s+(.*)/;glslunit.compiler.Preprocessor.RE_OVERRIDE_=/\/\/!\s*OVERRIDE\s+(\S+)\s+(\S+)/;
glslunit.compiler.Preprocessor.ParseFile=function(b,e){var d=[],h=[],i={},j;for(j in e)goog.array.forEach(e[j].split("\n"),function(b){if(b=glslunit.compiler.Preprocessor.RE_PROVIDE_.exec(b))if(b=b[1],b in i)throw Error("Symbol "+b+" is provided by two files, "+j+" and "+i[b]);else i[b]=j});var l={},q=glslunit.compiler.Preprocessor.ParseFileSource_(b,e,i,l,d,h);q.includedFiles=l;try{q.vertexAst=glslunit.glsl.parser.parse(q.originalVertexSource,"vertex_start")}catch(o){throw glslunit.compiler.Preprocessor.FormatParseError_(o,
"vertex",d,e);}try{q.fragmentAst=glslunit.glsl.parser.parse(q.originalFragmentSource,"fragment_start")}catch(p){throw glslunit.compiler.Preprocessor.FormatParseError_(p,"fragment",h,e);}d={};for(l=q.originalVertexSource+q.originalFragmentSource;h=glslunit.compiler.Preprocessor.RE_LICENSE_.exec(l);)h[0]in d||(d[h[0]]=true,q.licenses.push(h[0]));q.defaultProgramShortNames();return q};
glslunit.compiler.Preprocessor.FormatParseError_=function(b,e,d,h){e="Error while parsing the "+e+" shader code\n";d=d[b.line-1];e+=d.fileName+" "+(d.localLine+1)+":"+b.message+"\n"+h[d.fileName].split("\n")[d.localLine]+"\n"+Array(b.column).join(" ")+"^";return Error(e)};
glslunit.compiler.Preprocessor.ParseFileSource_=function(b,e,d,h,i,j){var l=true,q=true,o=new glslunit.compiler.ShaderProgram;if(!(b in e))throw Error("Library file "+b+" couldn't be found");var p=e[b].replace(/\\\n/g,"");goog.array.forEach(p.split("\n"),function(p,y){var r;if(r=glslunit.compiler.Preprocessor.RE_CLASS_.exec(p))o.className=r[1];else if(r=glslunit.compiler.Preprocessor.RE_SUPERCLASS_.exec(p))o.superClass=r[1];else if(r=glslunit.compiler.Preprocessor.RE_NAMESPACE_.exec(p))o.namespace=
r[1];else if(r=glslunit.compiler.Preprocessor.RE_FRAGMENT_.exec(p))q=true,l=false;else if(r=glslunit.compiler.Preprocessor.RE_VERTEX_.exec(p))q=false,l=true;else if(r=glslunit.compiler.Preprocessor.RE_COMMON_.exec(p))l=q=true;else if(r=glslunit.compiler.Preprocessor.RE_MODE_.exec(p)){var w=new glslunit.compiler.ShaderMode;w.preprocessorName=r[1];r=r[2].split(",");if(r.length<2)throw b+" "+y+":0 Mode with less than two options given!\n\t"+p;goog.array.forEach(r,function(d){d=d.split(":");if(d.length!=
2||!d[1].match(/^[0-9]+$/))throw b+" "+y+":0 Mode option has invalid format!\n\t"+p;w.options.push({name:d[0],value:parseInt(d[1],10)})});o.shaderModes.push(w)}else if(r=glslunit.compiler.Preprocessor.RE_DEFAULT_MODE_.exec(p))w=new glslunit.compiler.ShaderMode,w.preprocessorName=r[1],w.options.push({name:"OFF",value:0}),w.options.push({name:"ON",value:1}),o.shaderModes.push(w);else if(r=glslunit.compiler.Preprocessor.RE_OVERRIDE_.exec(p)){if(q)o.originalFragmentSource=glslunit.compiler.Preprocessor.OverrideFunction_(r[1],
r[2],o.originalFragmentSource);if(l)o.originalVertexSource=glslunit.compiler.Preprocessor.OverrideFunction_(r[1],r[2],o.originalVertexSource)}else if(r=glslunit.compiler.Preprocessor.RE_JSREQUIRE_.exec(p))o.jsRequires.push(r[1]);else if(r=glslunit.compiler.Preprocessor.RE_JSCONST_.exec(p)){var D=new glslunit.compiler.ShaderJsConst;D.originalName=r[1];D.expression=r[2];o.jsConsts.push(D)}q&&(o.originalFragmentSource+=p+"\n",j.push({fileName:b,localLine:y}));l&&(o.originalVertexSource+=p+"\n",i.push({fileName:b,
localLine:y}));if(r=glslunit.compiler.Preprocessor.RE_TEMPLATE_.exec(p))o.template=r[1];D=function(b){b in h||(h[b]=true,b=glslunit.compiler.Preprocessor.ParseFileSource_(b,e,d,h,i,j),o.originalVertexSource+=b.originalVertexSource,o.originalFragmentSource+=b.originalFragmentSource,Array.prototype.push.apply(o.shaderModes,b.shaderModes),Array.prototype.push.apply(o.jsRequires,b.jsRequires),Array.prototype.push.apply(o.jsConsts,b.jsConsts))};if(r=glslunit.compiler.Preprocessor.RE_INCLUDE_.exec(p))D(r[1]);
else if(r=glslunit.compiler.Preprocessor.RE_REQUIRE_.exec(p)){r=r[1];if(!(r in d))throw Error("File "+b+"required symbol "+r+" but it was never provided.");D(d[r])}});return o};glslunit.compiler.Preprocessor.OverrideFunction_=function(b,e,d){for(var h=RegExp("(void|float|int|bool|vec2|vec3|vec4| ivec2|ivec3|ivec4|bvec2|bvec3|bvec4|mat2|mat3|mat4)\\s+"+b+"(\\([^)]*\\))\\s*\\{","g"),i;i=h.exec(d);){var j=i[1];i=i[2];d=d.replace(h,j+" "+b+i+";"+j+" "+e+i+"{")}return d};goog.node={};goog.node.flagType={STRING:"string",STRING_ARRAY:"string_array",BOOLEAN:"boolean",INTEGER:"integer"};goog.node.commandLineFlag=function(b,e,d,h){this.name=b;this.type=e;this.defaultValue=d;this.description=h;this.value=void 0};goog.node.commandLineFlag.prototype.getTypeHelp=function(){return""};goog.node.commandLineFlag.prototype.isRequired=function(){return!goog.isDef(this.defaultValue)};
goog.node.commandLineFlag.prototype.getValue=function(){return goog.isDef(this.value)?this.value:this.defaultValue};goog.node.commandLineFlag.prototype.parseValue=function(b){this.value=b};goog.node.arrayCommandLineFlag=function(b,e,d,h){goog.node.commandLineFlag.call(this,b,e,d,h);this.value=void 0};goog.inherits(goog.node.arrayCommandLineFlag,goog.node.commandLineFlag);goog.node.arrayCommandLineFlag.prototype.getTypeHelp=function(){return"repeat this option to specify a list of values"};
goog.node.arrayCommandLineFlag.prototype.parseValue=function(b){if(!goog.isDef(this.value))this.value=[];b.search(",")!=-1?this.value.push.apply(this.value,b.split(",")):this.value.push(b)};goog.node.FLAGS=function(){};goog.node.FLAGS.definedFlags_={};goog.node.FLAGS.define_string=function(b,e,d){var h=new goog.node.commandLineFlag(b,goog.node.flagType.STRING,e,d);goog.node.FLAGS.definedFlags_[b]=h;goog.node.FLAGS.__defineGetter__(b,function(){return String(h.getValue())})};
goog.node.FLAGS.define_string_array=function(b,e,d){var h=new goog.node.arrayCommandLineFlag(b,goog.node.flagType.STRING_ARRAY,e,d);goog.node.FLAGS.definedFlags_[b]=h;goog.node.FLAGS.__defineGetter__(b,function(){return h.getValue().map(String)})};goog.node.FLAGS.define_bool=function(b,e,d){var h=new goog.node.commandLineFlag(b,goog.node.flagType.BOOLEAN,e,d);goog.node.FLAGS.definedFlags_[b]=h;goog.node.FLAGS.__defineGetter__(b,function(){var b=h.getValue();return Boolean(/^[tT]rue$/.test(b))})};
goog.node.FLAGS.define_integer=function(b,e,d){var h=new goog.node.commandLineFlag(b,goog.node.flagType.INTEGER,e,d);goog.node.FLAGS.definedFlags_[b]=h;goog.node.FLAGS.__defineGetter__(b,function(){var d=h.getValue();/^\d*$/.exec(d)||(console.error("Flag "+b+" is not an integer.\n"),goog.node.FLAGS.printHelp(),process.exit(1));return parseInt(d,10)})};
goog.node.FLAGS.parseArgs=function(){var b=null;process.argv.forEach(function(d,e,j){if(!(e<=1)){d=="--help"&&(goog.node.FLAGS.printHelp(),process.exit(0));var l,q,o=d.slice(0,2)=="--",p=b&&b.slice(0,2)=="--",x=d.split("=");o&&x.length>1?(l=x[0],q=x.slice(1).join("=")):b?p&&o?(q=goog.node.FLAGS.parseSingleBooleanFlag_(b),l=q.flag,q=q.flagValue,b=d):p?(l=b,q=d):(console.error("Invalid command line flag "+b+" "+d),goog.node.FLAGS.printHelp(),process.exit(1)):b=d;if(e==j.length-1&&b&&p&&!l)q=goog.node.FLAGS.parseSingleBooleanFlag_(b),
l=q.flag,q=q.flagValue;l&&q&&(l=l.slice(2),l in goog.node.FLAGS.definedFlags_?(goog.node.FLAGS.definedFlags_[l].parseValue(q),b=null):(console.error("Unknown flag "+l),goog.node.FLAGS.printHelp(),process.exit(1)))}});for(var e in goog.node.FLAGS.definedFlags_){var d=goog.node.FLAGS.definedFlags_[e];d.isRequired()&&!goog.isDef(d.value)&&(console.error("Flag "+e+" is required but not provided.\n"),goog.node.FLAGS.printHelp(),process.exit(1))}};
goog.node.FLAGS.parseSingleBooleanFlag_=function(b){var b=b.slice(2),e="true";!(b in goog.node.FLAGS.definedFlags_)&&b.slice(0,2)=="no"&&b.slice(2)in goog.node.FLAGS.definedFlags_&&(b=b.slice(2),e="false");return{flag:"--"+b,flagValue:e}};
goog.node.FLAGS.printHelp=function(){var b="Flags:\n",e;for(e in goog.node.FLAGS.definedFlags_){var d=goog.node.FLAGS.definedFlags_[e];b+="  --"+d.name+": "+d.description;var h=d.getTypeHelp();h&&(b+="\n    "+h);b+=d.isRequired()?"\n    (required)\n":"\n    (default: '"+d.defaultValue+"')\n"}process.stdout.write(b+"\n")};glslunit.compiler.CompilerStep=function(){};glslunit.compiler.CompilerStep.prototype.getName=function(){};glslunit.compiler.CompilerStep.prototype.getDependencies=function(){};glslunit.compiler.CompilerStep.prototype.performStep=function(){};glslunit.compiler.Compiler=function(b){this.phaseToSteps_={};this.shaderProgram_=b;this.stepOutputs_={};this.registeredSteps_={};goog.array.forEach(glslunit.compiler.Compiler.CompilerPhase.PHASE_ORDER_,function(b){this.phaseToSteps_[b]=[]},this)};glslunit.compiler.Compiler.CompilerPhase={OPTIMIZATION:0,MINIFICATION:1};glslunit.compiler.Compiler.CompilerPhase.PHASE_ORDER_=[glslunit.compiler.Compiler.CompilerPhase.OPTIMIZATION,glslunit.compiler.Compiler.CompilerPhase.MINIFICATION];
glslunit.compiler.Compiler.prototype.registerStep=function(b,e){this.registeredSteps_[e.getName()]=e;this.phaseToSteps_[b].push(e)};glslunit.compiler.Compiler.prototype.compileProgram=function(){goog.array.forEach(glslunit.compiler.Compiler.CompilerPhase.PHASE_ORDER_,function(b){goog.array.forEach(this.phaseToSteps_[b],function(b){this.runStep_(b,[])},this)},this);return this.shaderProgram_};
glslunit.compiler.Compiler.prototype.runStep_=function(b,e){var d=b.getName(),h=e.concat(d);if(e.indexOf(d)!=-1)throw"Circular dependcy in compiler steps.  "+h.join("->");d in this.stepOutputs_||(goog.array.forEach(b.getDependencies(),function(b){b in this.registeredSteps_&&this.runStep_(this.registeredSteps_[b],h)},this),this.stepOutputs_[d]=b.performStep(this.stepOutputs_,this.shaderProgram_))};glslunit.ASTTransformer=function(){this.mixed_in_visitors_=[]};glslunit.ASTTransformer.nextId_=-1;glslunit.ASTTransformer.getNextId=function(){return glslunit.ASTTransformer.nextId_--};glslunit.ASTTransformer.cloneNode=function(b){b=goog.object.clone(b);b.id=glslunit.ASTTransformer.getNextId();return b};glslunit.ASTTransformer.prototype.mixinVisitor=function(b){this.mixed_in_visitors_.push(b)};glslunit.ASTTransformer.prototype.getTransformFunction=function(b){return this["transform"+glslunit.utils.getFunctionSuffix(b.type)]};
glslunit.ASTTransformer.prototype.mixinVisitFunctions_=function(b,e,d){var h=this[e+glslunit.utils.getFunctionSuffix(b.type)];return goog.bind(function(b){goog.array.forEach(this.mixed_in_visitors_,function(e){var h=d(e).apply(e,[b]);h&&h.apply(e,[b])});h&&h.apply(this,[b])},this)};glslunit.ASTTransformer.prototype.getBeforeTransformFunction=function(b){return this.mixinVisitFunctions_(b,"beforeTransform",function(b){return b.getBeforeVisitFunction})};
glslunit.ASTTransformer.prototype.getAfterTransformFunction=function(b){return this.mixinVisitFunctions_(b,"afterTransform",function(b){return b.getAfterVisitFunction})};
glslunit.ASTTransformer.prototype.transformNode=function(b){var e=false,d=this.getBeforeTransformFunction(b);d&&d.apply(this,[b]);var d=glslunit.ASTTransformer.cloneNode(b),h;for(h in b){var i=b[h];if(goog.isArray(i)){d[h]=[];for(var j=0;j<i.length;j++){var l=i[j],q=this.transformNode(l);q!=l&&(e=true);q!=null&&Array.prototype.push.apply(d[h],goog.isArray(q)?q:[q])}}else i&&i.type&&(q=this.transformNode(i),q!=i&&(e=true,q!=null?d[h]=q:delete d[h]))}h=this.getTransformFunction(b);d=e?d:b;h&&(d=h.apply(this,
[d,b]));(e=this.getAfterTransformFunction(b))&&e.apply(this,[b,d]);return d};glslunit.CallGraphVisitor=function(){glslunit.ASTVisitor.call(this);this.callGraph_={};this.callGraph_[glslunit.CallGraphVisitor.ROOT_NAME]=[];this.currentFunctionName_=glslunit.CallGraphVisitor.ROOT_NAME};goog.inherits(glslunit.CallGraphVisitor,glslunit.ASTVisitor);glslunit.CallGraphVisitor.ROOT_NAME="#";glslunit.CallGraphVisitor.prototype.beforeVisitFunctionDeclaration=function(b){b.name in this.callGraph_||(this.callGraph_[b.name]=[]);this.currentFunctionName_=b.name};
glslunit.CallGraphVisitor.prototype.afterVisitFunctionDeclaration=function(){this.currentFunctionName_=glslunit.CallGraphVisitor.ROOT_NAME};glslunit.CallGraphVisitor.prototype.visitFunctionCall=function(b){this.callGraph_[this.currentFunctionName_].push(b.function_name);this.genericVisitor(b)};glslunit.CallGraphVisitor.getCallGraph=function(b){var e=new glslunit.CallGraphVisitor;e.visitNode(b);return e.callGraph_};glslunit.compiler.BraceReducer=function(){glslunit.ASTTransformer.call(this)};goog.inherits(glslunit.compiler.BraceReducer,glslunit.ASTTransformer);glslunit.compiler.BraceReducer.maybeConvertScopeToStatement_=function(b,e){var d=b[e],h=b;d&&d.type=="scope"&&d.statements.length==1&&(h=glslunit.ASTTransformer.cloneNode(b),h[e]=d.statements[0]);return h};
glslunit.compiler.BraceReducer.prototype.transformIfStatement=function(b){b=glslunit.compiler.BraceReducer.maybeConvertScopeToStatement_(b,"body");return glslunit.compiler.BraceReducer.maybeConvertScopeToStatement_(b,"elseBody")};glslunit.compiler.BraceReducer.prototype.transformWhileStatement=function(b){return glslunit.compiler.BraceReducer.maybeConvertScopeToStatement_(b,"body")};
glslunit.compiler.BraceReducer.prototype.transformDoStatement=function(b){return glslunit.compiler.BraceReducer.maybeConvertScopeToStatement_(b,"body")};glslunit.compiler.BraceReducer.prototype.transformForStatement=function(b){return glslunit.compiler.BraceReducer.maybeConvertScopeToStatement_(b,"body")};glslunit.compiler.BraceReducer.NAME="BraceReducer";glslunit.compiler.BraceReducer.prototype.getName=function(){return glslunit.compiler.BraceReducer.NAME};
glslunit.compiler.BraceReducer.prototype.getDependencies=function(){return[]};glslunit.compiler.BraceReducer.prototype.performStep=function(b,e){var d=new glslunit.compiler.BraceReducer,h=new glslunit.compiler.BraceReducer;e.vertexAst=d.transformNode(e.vertexAst);e.fragmentAst=h.transformNode(e.fragmentAst);return[]};glslunit.compiler.DeadFunctionRemover=function(){glslunit.ASTTransformer.call(this);this.functionAlive_={}};goog.inherits(glslunit.compiler.DeadFunctionRemover,glslunit.ASTTransformer);
glslunit.compiler.DeadFunctionRemover.prototype.beforeTransformRoot=function(b){var b=glslunit.CallGraphVisitor.getCallGraph(b),e=[];this.functionAlive_={};for(var d in b)this.functionAlive_[d]=false,d.match(/^main_(vs|fs).*$/)&&e.push(d);for(d=0;d<e.length;d++)this.markAlive_(e[d],b);this.markAlive_("main",b);this.markAlive_(glslunit.CallGraphVisitor.ROOT_NAME,b)};
glslunit.compiler.DeadFunctionRemover.prototype.markAlive_=function(b,e){b in this.functionAlive_&&!this.functionAlive_[b]&&(this.functionAlive_[b]=true,goog.array.forEach(e[b],function(b){this.markAlive_(b,e)},this))};glslunit.compiler.DeadFunctionRemover.prototype.transformFunctionDeclaration=function(b){return this.functionAlive_[b.name]?b:null};glslunit.compiler.DeadFunctionRemover.prototype.transformFunctionPrototype=glslunit.compiler.DeadFunctionRemover.prototype.transformFunctionDeclaration;
glslunit.compiler.DeadFunctionRemover.NAME="DeadFunctionRemover";glslunit.compiler.DeadFunctionRemover.prototype.getName=function(){return glslunit.compiler.DeadFunctionRemover.NAME};glslunit.compiler.DeadFunctionRemover.prototype.getDependencies=function(){return[]};
glslunit.compiler.DeadFunctionRemover.prototype.performStep=function(b,e){var d=new glslunit.compiler.DeadFunctionRemover,h=new glslunit.compiler.DeadFunctionRemover;e.vertexAst=d.transformNode(e.vertexAst);e.fragmentAst=h.transformNode(e.fragmentAst);return[]};glslunit.compiler.NameGenerator=function(){this.renameMap_={};this.usedKeys_={};this.nextDefinitionIndex=this.nextNameIndex=0};glslunit.compiler.NameGenerator.leadingCharacters_="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";glslunit.compiler.NameGenerator.trailingCharacters_=glslunit.compiler.NameGenerator.leadingCharacters_+"1234567890";
glslunit.compiler.NameGenerator.getShortName=function(b){for(var e=glslunit.compiler.NameGenerator.leadingCharacters_.length,d=glslunit.compiler.NameGenerator.trailingCharacters_.length,h=glslunit.compiler.NameGenerator.leadingCharacters_[b%e],b=Math.floor(b/e);b>0;)b-=1,h+=glslunit.compiler.NameGenerator.trailingCharacters_[b%d],b=Math.floor(b/d);return h};glslunit.compiler.NameGenerator.getShortDef=function(b){return"_"+glslunit.compiler.NameGenerator.getShortName(b)};
glslunit.compiler.NameGenerator.prototype.shortenSymbol=function(b){if(this.renameMap_[b])return this.renameMap_[b];for(var e=null;!e||e in this.usedKeys_;)e=glslunit.compiler.NameGenerator.getShortName(this.nextNameIndex++);this.usedKeys_[e]=true;return this.renameMap_[b]=e};glslunit.compiler.NameGenerator.prototype.getNextShortDefinition=function(){return glslunit.compiler.NameGenerator.getShortDef(this.nextDefinitionIndex++)};
glslunit.compiler.NameGenerator.prototype.getShortSymbol=function(b){return this.renameMap_[b]||b};glslunit.compiler.NameGenerator.prototype.getNextNameIndex=function(){return this.nextNameIndex};glslunit.compiler.NameGenerator.prototype.clone=function(){var b=new glslunit.compiler.NameGenerator;b.renameMap_=goog.object.clone(this.renameMap_);b.usedKeys_=goog.object.clone(this.usedKeys_);b.nextNameIndex=this.nextNameIndex;b.nextDefinitionIndex=this.nextDefinitionIndex;return b};glslunit.compiler.Utils=function(){};glslunit.compiler.Utils.getStructDeclarations=function(b){var b=glslunit.NodeCollector.collectNodes(b,function(b,e){return b.type=="declarator"&&e.slice(-1)[0].type=="struct_definition"}),e=[];goog.array.forEach(b,function(b){e[b.id]=true});return e};glslunit.VariableScopeVisitor=function(b,e){glslunit.ASTVisitor.call(this);this.targetScope_=b||null;this.promoteIfdefVars_=!!e;this.variablesInScope_={};this.stackFrames_=[];this.currentFrame_=[];this.scopeIdToFrame_={};this.scopeParameters_=[]};goog.inherits(glslunit.VariableScopeVisitor,glslunit.ASTVisitor);
glslunit.VariableScopeVisitor.prototype.getCurrentScopeVariables=function(){var b=this.stackFrames_.concat([this.currentFrame_]),e={};goog.array.forEachRight(b,function(b){goog.array.forEach(b,function(b){b.type=="declarator"?goog.array.forEach(b.declarators,function(d){goog.isDef(e[d.name.name])||(e[d.name.name]=b)},this):b.type=="parameter"&&(e[b.name]=b)},this)},this);return e};
glslunit.VariableScopeVisitor.prototype.beforeVisitScope=function(){this.stackFrames_.push(this.currentFrame_);this.currentFrame_=[];[].push.apply(this.currentFrame_,this.scopeParameters_);this.scopeParameters_=[]};glslunit.VariableScopeVisitor.prototype.afterVisitScope=function(b){this.scopeIdToFrame_[b.id]=this.currentFrame_;if(b==this.targetScope_)this.variablesInScope_=this.getCurrentScopeVariables();this.currentFrame_=this.stackFrames_.pop()};
glslunit.VariableScopeVisitor.prototype.beforeVisitRoot=glslunit.VariableScopeVisitor.prototype.beforeVisitScope;glslunit.VariableScopeVisitor.prototype.afterVisitPreprocessor=function(b){this.promoteIfdefVars_||this.afterVisitScope(b)};glslunit.VariableScopeVisitor.prototype.beforeVisitPreprocessor=function(b){this.promoteIfdefVars_||this.beforeVisitScope(b)};glslunit.VariableScopeVisitor.prototype.afterVisitRoot=glslunit.VariableScopeVisitor.prototype.afterVisitScope;
glslunit.VariableScopeVisitor.prototype.beforeVisitDeclarator=function(b){this.currentFrame_.push(b)};glslunit.VariableScopeVisitor.prototype.beforeVisitFunctionDeclaration=function(b){this.scopeParameters_=b.parameters};glslunit.VariableScopeVisitor.prototype.afterVisitFunctionDeclaration=function(){this.scopeParameters_=[]};glslunit.VariableScopeVisitor.getScopeToDeclarationMap=function(b){var e=new glslunit.VariableScopeVisitor;e.visitNode(b);return e.scopeIdToFrame_};
glslunit.VariableScopeVisitor.getVariablesInScope=function(b,e,d){e=new glslunit.VariableScopeVisitor(e,d);e.visitNode(b);return e.variablesInScope_};glslunit.compiler.VariableMinifier=function(b){glslunit.ASTTransformer.call(this);this.variableStack_=[];this.currentNameGenerator_=new glslunit.compiler.NameGenerator;this.currentDeclaratorNode_=null;this.maxNameId_=0;this.minifyPublicVariables_=b;this.structDeclaratorNodes_=[]};goog.inherits(glslunit.compiler.VariableMinifier,glslunit.ASTTransformer);
glslunit.compiler.VariableMinifier.prototype.shouldRenameNode_=function(b){if(!b)return false;var e=b.typeAttribute.qualifier;return(this.minifyPublicVariables_||e!="uniform"&&e!="attribute")&&!(b.id in this.structDeclaratorNodes_)};glslunit.compiler.VariableMinifier.prototype.setShaderProgram=function(b){this.shaderProgram_=b};
glslunit.compiler.VariableMinifier.prototype.beforeTransformRoot=function(b){this.structDeclaratorNodes_=glslunit.compiler.Utils.getStructDeclarations(b);var e=[],d=glslunit.VariableScopeVisitor.getVariablesInScope(b,b,true),h;for(h in d){var i=d[h];if(this.shouldRenameNode_(i))i=i.typeAttribute.qualifier,i=="varying"||i=="uniform"?this.currentNameGenerator_.shortenSymbol(h):e.push(h)}this.pushStack_(b);goog.array.forEach(e,function(b){this.currentNameGenerator_.shortenSymbol(b)},this)};
glslunit.compiler.VariableMinifier.prototype.beforeTransformDeclarator=function(b){this.currentDeclaratorNode_=b};glslunit.compiler.VariableMinifier.prototype.afterTransformDeclarator=function(){this.currentDeclaratorNode_=null};glslunit.compiler.VariableMinifier.prototype.transformParameter=function(b){var e=glslunit.ASTTransformer.cloneNode(b);e.name=this.currentNameGenerator_.shortenSymbol(b.name);return e};
glslunit.compiler.VariableMinifier.prototype.pushStack_=function(){this.variableStack_.push(this.currentNameGenerator_);this.currentNameGenerator_=this.currentNameGenerator_.clone()};glslunit.compiler.VariableMinifier.prototype.popStack_=function(){this.maxNameId_=Math.max(this.maxNameId_,this.currentNameGenerator_.getNextNameIndex());this.currentNameGenerator_=this.variableStack_.pop()};glslunit.compiler.VariableMinifier.prototype.beforeTransformScope=glslunit.compiler.VariableMinifier.prototype.pushStack_;
glslunit.compiler.VariableMinifier.prototype.afterTransformScope=glslunit.compiler.VariableMinifier.prototype.popStack_;glslunit.compiler.VariableMinifier.prototype.afterTransformRoot=glslunit.compiler.VariableMinifier.prototype.popStack_;glslunit.compiler.VariableMinifier.prototype.beforeTransformFunctionDeclaration=glslunit.compiler.VariableMinifier.prototype.pushStack_;glslunit.compiler.VariableMinifier.prototype.afterTransformFunctionDeclaration=glslunit.compiler.VariableMinifier.prototype.popStack_;
glslunit.compiler.VariableMinifier.prototype.beforeTransformFunctionPrototype=glslunit.compiler.VariableMinifier.prototype.pushStack_;glslunit.compiler.VariableMinifier.prototype.afterTransformFunctionPrototype=glslunit.compiler.VariableMinifier.prototype.popStack_;
glslunit.compiler.VariableMinifier.prototype.beforeTransformDeclaratorItem=function(b){var e=b.name.name,d;if(this.currentDeclaratorNode_)d=this.currentDeclaratorNode_.typeAttribute.qualifier;this.shouldRenameNode_(this.currentDeclaratorNode_)&&(e=this.currentNameGenerator_.shortenSymbol(b.name.name));if(this.shaderProgram_&&this.currentDeclaratorNode_)if(d=="attribute")this.shaderProgram_.attributeMap[b.name.name].shortName=e;else if(d=="uniform")this.shaderProgram_.uniformMap[b.name.name].shortName=
e;return b};glslunit.compiler.VariableMinifier.prototype.transformIdentifier=function(b){var e=this.currentNameGenerator_.getShortSymbol(b.name);if(b.name!=e)b=glslunit.ASTTransformer.cloneNode(b),b.name=e;return b};glslunit.compiler.VariableMinifier.NAME="VariableMinifier";glslunit.compiler.VariableMinifier.prototype.getName=function(){return glslunit.compiler.VariableMinifier.NAME};glslunit.compiler.VariableMinifier.prototype.getDependencies=function(){return[]};
glslunit.compiler.VariableMinifier.prototype.performStep=function(b,e){var d=new glslunit.compiler.VariableMinifier(this.minifyPublicVariables_);d.setShaderProgram(e);e.vertexAst=d.transformNode(e.vertexAst);var h=new glslunit.compiler.VariableMinifier(this.minifyPublicVariables_);h.setShaderProgram(e);h.currentNameGenerator_=d.currentNameGenerator_;e.fragmentAst=h.transformNode(e.fragmentAst);return{vertexMaxId:d.maxNameId_,fragmentMaxId:h.maxNameId_}};glslunit.compiler.FunctionMinifier=function(){glslunit.ASTTransformer.call(this);this.nameGenerator_=new glslunit.compiler.NameGenerator};goog.inherits(glslunit.compiler.FunctionMinifier,glslunit.ASTTransformer);glslunit.compiler.FunctionMinifier.globalFunctions_={main:true};glslunit.compiler.FunctionMinifier.prototype.beforeTransformFunctionDeclaration=function(b){b.name in glslunit.compiler.FunctionMinifier.globalFunctions_||this.nameGenerator_.shortenSymbol(b.name)};
glslunit.compiler.FunctionMinifier.prototype.transformFunctionDeclaration=function(b){var e=this.nameGenerator_.getShortSymbol(b.name);if(e!=b.name)b=glslunit.ASTTransformer.cloneNode(b),b.name=e;return b};glslunit.compiler.FunctionMinifier.prototype.transformFunctionCall=function(b){var e=this.nameGenerator_.getShortSymbol(b.function_name);if(e!=b.function_name)b=glslunit.ASTTransformer.cloneNode(b),b.function_name=e;return b};
glslunit.compiler.FunctionMinifier.prototype.beforeTransformFunctionPrototype=glslunit.compiler.FunctionMinifier.prototype.beforeTransformFunctionDeclaration;glslunit.compiler.FunctionMinifier.prototype.transformFunctionPrototype=glslunit.compiler.FunctionMinifier.prototype.transformFunctionDeclaration;glslunit.compiler.FunctionMinifier.NAME="Function Minifier";glslunit.compiler.FunctionMinifier.prototype.getName=function(){return glslunit.compiler.FunctionMinifier.NAME};
glslunit.compiler.FunctionMinifier.prototype.getDependencies=function(){return[glslunit.compiler.VariableMinifier.NAME]};
glslunit.compiler.FunctionMinifier.prototype.performStep=function(b,e){var d=0,h=0;if(glslunit.compiler.VariableMinifier.NAME in b)d=b[glslunit.compiler.VariableMinifier.NAME].vertexMaxId,h=b[glslunit.compiler.VariableMinifier.NAME].fragmentMaxId;var i=new glslunit.compiler.FunctionMinifier;i.nameGenerator_.nextNameIndex=d;d=new glslunit.compiler.FunctionMinifier;e.vertexAst=i.transformNode(e.vertexAst);d.nameGenerator_.nextNameIndex=h;e.fragmentAst=d.transformNode(e.fragmentAst);var h={},j;for(j in i.nameGenerator_.renameMap_)h[j]=
i.nameGenerator_.renameMap_[j];for(j in d.nameGenerator_.renameMap_)h[j]=d.nameGenerator_.renameMap_[j];console.error(h);i=[];for(j in h)(d=j.match(/^main_(vs|fs)_(.*)$/))&&i.indexOf(d[2])==-1&&i.push(d[2]);for(j=0;j<i.length;j++){var d=i[j],l="main_vs_"+d,q="main_fs_"+d;l in h?q in h?console.log('programs.'+d+' = load_shader_program("'+h[l]+'", "'+h[q]+'");'):console.error("Missing fragment shader for program '"+d+"'"):console.error("Missing vertex shader for program '"+d+"'")}return[]};glslunit.compiler.ConstructorMinifier=function(){glslunit.ASTTransformer.call(this);this.nodeStack_=[]};goog.inherits(glslunit.compiler.ConstructorMinifier,glslunit.ASTTransformer);glslunit.compiler.ConstructorMinifier.CONVERSION_FUNCTIONS_={vec2:2,vec3:3,vec4:4,bvec2:2,bvec3:3,bvec4:4,ivec2:2,ivec3:3,ivec4:4,mat2:4,mat3:9,mat4:16,"float":1,"int":1,bool:1};glslunit.compiler.ConstructorMinifier.prototype.getBeforeTransformFunction=function(b){this.nodeStack_.push(b)};
glslunit.compiler.ConstructorMinifier.prototype.getAfterTransformFunction=function(){this.nodeStack_.pop()};glslunit.compiler.ConstructorMinifier.prototype.parentIsConstructor_=function(){var b=this.nodeStack_.slice(-2)[0];return b.type=="function_call"&&b.function_name in glslunit.compiler.ConstructorMinifier.CONVERSION_FUNCTIONS_};
glslunit.compiler.ConstructorMinifier.prototype.maybeConvertToInt_=function(b){if(this.parentIsConstructor_()&&Math.abs(b.value)<65536&&b.value==Math.round(b.value)){var e=glslunit.ASTTransformer.cloneNode(b);e.type="int";e.value=Number(b.value);return e}return b};glslunit.compiler.ConstructorMinifier.prototype.transformFloat=glslunit.compiler.ConstructorMinifier.prototype.maybeConvertToInt_;glslunit.compiler.ConstructorMinifier.prototype.transformBool=glslunit.compiler.ConstructorMinifier.prototype.maybeConvertToInt_;
glslunit.compiler.ConstructorMinifier.prototype.transformFunctionCall=function(b){var e=glslunit.compiler.ConstructorMinifier.CONVERSION_FUNCTIONS_[b.function_name];if(e){if(this.parentIsConstructor_()&&b.parameters.length==e)return b.parameters;if(b.parameters&&b.parameters.length>1){var d=glslunit.Generator.getSourceCode(b.parameters[0]),h=false;if(b.function_name.slice(0,3)=="mat"){if(b.parameters.length==e){for(var e=true,i=parseInt(b.function_name.slice(-1),10),j=0;j<i&&e;j++)for(var l=0;l<i&&
e;l++)e=glslunit.Generator.getSourceCode(b.parameters[j*i+l])==(j==l?d:"0");e&&(h=true)}}else goog.array.every(b.parameters,function(b){return glslunit.Generator.getSourceCode(b)==d})&&(h=true);if(h)return h=glslunit.ASTTransformer.cloneNode(b),h.parameters=[b.parameters[0]],h}}return b};glslunit.compiler.ConstructorMinifier.NAME="ConstructorMinifier";glslunit.compiler.ConstructorMinifier.prototype.getName=function(){return glslunit.compiler.ConstructorMinifier.NAME};
glslunit.compiler.ConstructorMinifier.prototype.getDependencies=function(){return[]};glslunit.compiler.ConstructorMinifier.prototype.performStep=function(b,e){var d=new glslunit.compiler.ConstructorMinifier,h=new glslunit.compiler.ConstructorMinifier;e.vertexAst=d.transformNode(e.vertexAst);e.fragmentAst=h.transformNode(e.fragmentAst);return[]};glslunit.compiler.DeclarationConsolidation=function(b){glslunit.ASTTransformer.call(this);this.scopeIdToDeclarators_={};this.currentDeclarator_=null;this.typeMapStack_=[];this.forInitializerNodes_=[];this.structDeclaratorNodes_=[];this.consolidateAttributes_=b};goog.inherits(glslunit.compiler.DeclarationConsolidation,glslunit.ASTTransformer);
glslunit.compiler.DeclarationConsolidation.prototype.beforeTransformRoot=function(b){var e=glslunit.NodeCollector.collectNodes(b,function(b){return b.type=="for_statement"});goog.array.forEach(e,function(b){this.forInitializerNodes_[b.initializer.id]=true},this);this.structDeclaratorNodes_=glslunit.compiler.Utils.getStructDeclarations(b);var e=glslunit.VariableScopeVisitor.getScopeToDeclarationMap(b),d;for(d in e){var h={};goog.array.forEach(e[d],function(e){if(e.type=="declarator"&&this.shouldConsolidateDeclarator_(e,
d==b.id)){var j=glslunit.Generator.getSourceCode(e.typeAttribute);h[j]||(h[j]=[]);goog.array.forEach(e.declarators,function(b){var d=b;d.initializer&&(d=glslunit.ASTTransformer.cloneNode(b),delete d.initializer);h[j].push(d)},this)}},this);this.scopeIdToDeclarators_[d]=h}this.beforeTransformScope(b)};glslunit.compiler.DeclarationConsolidation.prototype.beforeTransformDeclarator=function(b){this.currentDeclarator_=b};
glslunit.compiler.DeclarationConsolidation.prototype.afterTransformDeclarator=function(){this.currentDeclarator_=null};glslunit.compiler.DeclarationConsolidation.prototype.beforeTransformScope=function(b){this.typeMapStack_.push(this.scopeIdToDeclarators_[b.id])};glslunit.compiler.DeclarationConsolidation.prototype.beforeTransformPreprocessor=glslunit.compiler.DeclarationConsolidation.prototype.beforeTransformScope;glslunit.compiler.DeclarationConsolidation.prototype.afterTransformScope=function(){this.typeMapStack_.pop()};
glslunit.compiler.DeclarationConsolidation.prototype.afterTransformPreprocessor=glslunit.compiler.DeclarationConsolidation.prototype.afterTransformScope;
glslunit.compiler.DeclarationConsolidation.prototype.shouldConsolidateDeclarator_=function(b,e){var d=glslunit.Generator.getSourceCode(b.typeAttribute),h=null;this.typeMapStack_.length>0&&(h=this.typeMapStack_.slice(-1)[0][d]);return b!=null&&(this.consolidateAttributes_||b.typeAttribute.qualifier!="attribute")&&b.typeAttribute.qualifier!="const"&&(!h||h.length>1)&&!(b.id in this.forInitializerNodes_)&&!(b.id in this.structDeclaratorNodes_)&&!(e&&!goog.array.every(b.declarators,function(b){return!goog.isDef(b.initializer)}))};
glslunit.compiler.DeclarationConsolidation.prototype.transformDeclaratorItem=function(b){return!this.shouldConsolidateDeclarator_(this.currentDeclarator_,this.typeMapStack_.length==1)?b:b.initializer?{id:glslunit.ASTTransformer.getNextId(),type:"expression",expression:{id:glslunit.ASTTransformer.getNextId(),type:"binary",operator:{id:glslunit.ASTTransformer.getNextId(),type:"operator",operator:"="},left:b.name,right:b.initializer}}:null};
glslunit.compiler.DeclarationConsolidation.prototype.transformDeclarator=function(b){if(!this.shouldConsolidateDeclarator_(b,this.typeMapStack_.length==1))return b;var e=[],d=glslunit.Generator.getSourceCode(b.typeAttribute),h=this.typeMapStack_.slice(-1)[0],i=h[d];if(i)e=glslunit.ASTTransformer.cloneNode(b),e.declarators=i,e=[e],delete h[d];b.declarators&&b.declarators.length!=0&&Array.prototype.push.apply(e,b.declarators);return e};glslunit.compiler.DeclarationConsolidation.NAME="DeclarationConsolidation";
glslunit.compiler.DeclarationConsolidation.prototype.getName=function(){return glslunit.compiler.DeclarationConsolidation.NAME};glslunit.compiler.DeclarationConsolidation.prototype.getDependencies=function(){return[]};
glslunit.compiler.DeclarationConsolidation.prototype.performStep=function(b,e){var d=new glslunit.compiler.DeclarationConsolidation(this.consolidateAttributes_),h=new glslunit.compiler.DeclarationConsolidation(this.consolidateAttributes_);e.vertexAst=d.transformNode(e.vertexAst);e.fragmentAst=h.transformNode(e.fragmentAst);return[]};/*

 Copyright (c) 2009 Chris Wanstrath (Ruby)
 Copyright (c) 2010 Jan Lehnardt (JavaScript)

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.

*/
var Mustache=function(){function b(b){return String(b).replace(/&(?!\w+;)|[<>"']/g,function(b){return l[b]||b})}var e=Object.prototype.toString;Array.isArray=Array.isArray||function(b){return e.call(b)=="[object Array]"};var d=String.prototype.trim,h;if(d)h=function(b){return b==null?"":d.call(b)};else{var i,j;/\S/.test("\u00a0")?(i=/^[\s\xA0]+/,j=/[\s\xA0]+$/):(i=/^\s+/,j=/\s+$/);h=function(b){return b==null?"":b.toString().replace(i,"").replace(j,"")}}var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;",
"'":"&#39;"},q={},o=function(){};o.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":true},context:{},render:function(b,d,e,h){if(!h)this.context=d,this.buffer=[];if(!this.includes("",b))if(h)return b;else{this.send(b);return}var b=this.render_pragmas(b),i=this.render_section(b,d,e);i===false&&(i=this.render_tags(b,d,e,h));if(h)return i;else this.sendLines(i)},send:function(b){b!==""&&this.buffer.push(b)},sendLines:function(b){if(b)for(var b=b.split("\n"),
d=0;d<b.length;d++)this.send(b[d])},render_pragmas:function(b){if(!this.includes("%",b))return b;var d=this,e=this.getCachedRegex("render_pragmas",function(b,d){return RegExp(b+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+d,"g")});return b.replace(e,function(b,e,h){if(!d.pragmas_implemented[e])throw{message:"This implementation of mustache doesn't understand the '"+e+"' pragma"};d.pragmas[e]={};h&&(b=h.split("="),d.pragmas[e][b[0]]=b[1]);return""})},render_partial:function(b,d,e){b=h(b);if(!e||e[b]===void 0)throw{message:"unknown_partial '"+
b+"'"};return!d||typeof d[b]!="object"?this.render(e[b],d,e,true):this.render(e[b],d[b],e,true)},render_section:function(b,d,e){if(!this.includes("#",b)&&!this.includes("^",b))return false;var h=this,i=this.getCachedRegex("render_section",function(b,d){return RegExp("^([\\s\\S]*?)"+b+"(\\^|\\#)\\s*(.+)\\s*"+d+"\n*([\\s\\S]*?)"+b+"\\/\\s*\\3\\s*"+d+"\\s*([\\s\\S]*)$","g")});return b.replace(i,function(b,i,j,l,o,p){var b=i?h.render_tags(i,d,e,true):"",p=p?h.render(p,d,e,true):"",q,l=h.find(l,d);j===
"^"?q=!l||Array.isArray(l)&&l.length===0?h.render(o,d,e,true):"":j==="#"&&(q=Array.isArray(l)?h.map(l,function(b){return h.render(o,h.create_context(b),e,true)}).join(""):h.is_object(l)?h.render(o,h.create_context(l),e,true):typeof l=="function"?l.call(d,o,function(b){return h.render(b,d,e,true)}):l?h.render(o,d,e,true):"");return b+q+p})},render_tags:function(d,e,h,i){for(var j=this,l=function(){return j.getCachedRegex("render_tags",function(b,d){return RegExp(b+"(=|!|>|&|\\{|%)?([^#\\^]+?)\\1?"+
d+"+","g")})},o=l(),q=function(d,i,p){switch(i){case "!":return"";case "=":return j.set_delimiters(p),o=l(),"";case ">":return j.render_partial(p,e,h);case "{":case "&":return j.find(p,e);default:return b(j.find(p,e))}},d=d.split("\n"),B=0;B<d.length;B++)d[B]=d[B].replace(o,q,this),i||this.send(d[B]);if(i)return d.join("\n")},set_delimiters:function(b){b=b.split(" ");this.otag=this.escape_regex(b[0]);this.ctag=this.escape_regex(b[1])},escape_regex:function(b){if(!arguments.callee.sRE)arguments.callee.sRE=
RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","g");return b.replace(arguments.callee.sRE,"\\$1")},find:function(b,d){function e(b){return b===false||b===0||b}var b=h(b),i;if(b.match(/([a-z_]+)\./ig)){var j=this.walk_context(b,d);e(j)&&(i=j)}else e(d[b])?i=d[b]:e(this.context[b])&&(i=this.context[b]);return typeof i=="function"?i.apply(d):i!==void 0?i:""},walk_context:function(b,d){for(var e=b.split("."),h=d[e[0]]!=void 0?d:this.context,i=h[e.shift()];i!=void 0&&e.length>0;)h=i,i=
i[e.shift()];return typeof i=="function"?i.apply(h):i},includes:function(b,d){return d.indexOf(this.otag+b)!=-1},create_context:function(b){if(this.is_object(b))return b;else{var d=".";if(this.pragmas["IMPLICIT-ITERATOR"])d=this.pragmas["IMPLICIT-ITERATOR"].iterator;var e={};e[d]=b;return e}},is_object:function(b){return b&&typeof b=="object"},map:function(b,d){if(typeof b.map=="function")return b.map(d);else{for(var e=[],h=b.length,i=0;i<h;i++)e.push(d(b[i]));return e}},getCachedRegex:function(b,
d){var e=q[this.otag];e||(e=q[this.otag]={});var h=e[this.ctag];h||(h=e[this.ctag]={});(e=h[b])||(e=h[b]=d(this.otag,this.ctag));return e}};return{name:"mustache.js",version:"0.5.0-dev",to_html:function(b,d,e,h){var i=new o;if(h)i.send=h;i.render(b,d||{},e);if(!h)return i.buffer.join("\n")}}}();glslunit.compiler.TemplateCompiler={};var path=require("path"),fs=require("fs");goog.node.FLAGS.define_string("input",void 0,"The input file in GLSL.");goog.node.FLAGS.define_string("output","","The output js file.");goog.node.FLAGS.define_string("template","","The output shader source code file.");goog.node.FLAGS.define_string("glsl_include_prefix","","Compiler will try prefixing this flag to the path of glsllib files. If not found there use ones in current directory.");
goog.node.FLAGS.define_string_array("template_include_prefix",[],"Compiler will try prefixing this flag to the path of template files. If not found there use ones in current directory.");goog.node.FLAGS.define_bool("remove_dead_functions",true,"Compiler will remove any functions it determines to be dead.");goog.node.FLAGS.define_string("variable_renaming","ALL","The level at which the compiler will minify variable names.  ALL will minify all variable names, including uniforms and attributes but can also output a map of old names to new names.  INTERNAL will only minifyvariables that aren't exposed to JavaScript.  OFF won't minify any variables.");
goog.node.FLAGS.define_string("consolidate_declarations","ALL","The level at which the compiler will consolidate declarations.  ALL will consolidate all declarations, including attributes (this can change the values returned by getAttribLocation).  INTERNAL will consolidate all variables with the exception of attributes.  OFF won'tconsolidate any attributes.");goog.node.FLAGS.define_bool("function_renaming",true,"Compiler will minify all function names.");
goog.node.FLAGS.define_bool("remove_braces",true,"Remove all braces that aren't required.");goog.node.FLAGS.define_bool("minify_constructors",true,"Compiler will minify all constructor calls where it can by removing inputs and converting types to int where possible.  For example, vec4(1.0, 1.0, 1.0, 1.0) will become vec4(1).");goog.node.FLAGS.define_bool("pretty_print",false,"Output pretty-printed GLSL source code.");goog.node.FLAGS.define_string_array("template_property",[],"Properties to be passed down to template for rendering.");
goog.node.FLAGS.parseArgs();var GLSL_EXTENSIONS={".glsl":true,".glsllib":true};function loadFiles(b,e,d){var h=[b],d=d||function(){return true};e&&e.forEach(function(d){h.push(path.join(b,d))});var i={};h.forEach(function(b){fs.readdirSync(b).filter(function(e){return!fs.statSync(path.join(b,e)).isDirectory()&&d(e)}).forEach(function(d){i[d]=fs.readFileSync(path.join(b,d),"utf8")})});return i}
function main(){var b=path.dirname(goog.node.FLAGS.input),e=loadFiles(b,goog.node.FLAGS.glsl_include_prefix,function(b){return path.extname(b)in GLSL_EXTENSIONS}),b=loadFiles(b,goog.node.FLAGS.template_include_prefix);(new Date).getTime();try{var d=glslunit.compiler.Preprocessor.ParseFile(path.basename(goog.node.FLAGS.input),e)}catch(h){console.error(h.message),process.exit(1)}goog.object.clone(d);(new Date).getTime();(new Date).getTime();d=new glslunit.compiler.Compiler(d);e={ALL:true,INTERNAL:false};
goog.node.FLAGS.remove_dead_functions&&d.registerStep(glslunit.compiler.Compiler.CompilerPhase.MINIFICATION,new glslunit.compiler.DeadFunctionRemover);goog.node.FLAGS.remove_braces&&d.registerStep(glslunit.compiler.Compiler.CompilerPhase.MINIFICATION,new glslunit.compiler.BraceReducer);goog.node.FLAGS.variable_renaming in e&&d.registerStep(glslunit.compiler.Compiler.CompilerPhase.MINIFICATION,new glslunit.compiler.VariableMinifier(e[goog.node.FLAGS.variable_renaming]));goog.node.FLAGS.consolidate_declarations in
e&&d.registerStep(glslunit.compiler.Compiler.CompilerPhase.MINIFICATION,new glslunit.compiler.DeclarationConsolidation(e[goog.node.FLAGS.consolidate_declarations]));goog.node.FLAGS.function_renaming&&d.registerStep(glslunit.compiler.Compiler.CompilerPhase.MINIFICATION,new glslunit.compiler.FunctionMinifier);goog.node.FLAGS.minify_constructors&&d.registerStep(glslunit.compiler.Compiler.CompilerPhase.MINIFICATION,new glslunit.compiler.ConstructorMinifier);d=d.compileProgram();d.prettyPrint=goog.node.FLAGS.pretty_print;
(new Date).getTime();var i={};goog.node.FLAGS.template_property.forEach(function(b){var d=b.split("=",2);d.length!=2&&(console.error("Invalid template property: "+b),process.exit(1));i[d[0]]=d[1]});d.templateProperties=i;e="";d.template||goog.node.FLAGS.template?(e="",d.template?(e=b[d.template],e||(console.error("Could not find template "+d.template),process.exit(1))):e=fs.readFileSync(goog.node.FLAGS.template,"utf8"),d.defaultProgramShortNames(),e=Mustache.to_html(e,d)+"\n",e=fs.readFileSync(goog.node.FLAGS.template,
"utf8"),d.defaultProgramShortNames(),e=Mustache.to_html(e,d)+"\n"):e="\n//! VERTEX\n"+glslunit.Generator.getSourceCode(d.vertexAst,"\\n")+"\n//! FRAGMENT\n"+glslunit.Generator.getSourceCode(d.fragmentAst,"\\n");goog.node.FLAGS.output?fs.writeFileSync(goog.node.FLAGS.output,e):process.stdout.write(e)}main();
